[
  {
    "version": "1",
    "site_title": "2",
    "site_description": "3",
    "about": "4",
    "about_img": "5",
    "author": "2",
    "indie_auth": true,
    "social_media": "6",
    "domain": "7",
    "rootpath": "8",
    "now": "9",
    "navigation": "10",
    "posts": "11",
    "like": "12",
    "stream": "13",
    "note": "14",
    "photo": "15",
    "reply": "16",
    "repost": "17",
    "event": "18",
    "rsvp": "19",
    "video": "20",
    "article": "21",
    "collections": "22",
    "tags": "23",
    "title": "24",
    "date": "25",
    "layout": "26",
    "contents": "27",
    "mode": "28",
    "stats": "29",
    "path": "30",
    "collection": "31",
    "previous": "32",
    "next": "33",
    "excerpt": "34",
    "webmentions": "35"
  },
  "0.1.1",
  "Gijs van Dam",
  "Gijs van Dam is a freelance consultant and crypto researcher with over 20 years of international experience, who tries to make the web a better place.",
  "<a class=\"p-name u-url\" href=\"/\">Gijs van Dam</a> is a <a href=\"/about\">researcher, consultant and business founder.</a> He started as a web developer in the last century and was part of several start-ups since 2002. Since 2018 he is pursuing a PhD in computer science at the National University of Malaysia, where he lives.",
  "/images/gijsvandam.jpg",
  {
    "github": "36",
    "linkedin": "37",
    "researchgate": "38",
    "mastodon": "39",
    "twitter": "40",
    "stream": "41",
    "rss": "42",
    "keybase": "43",
    "orcid": "44",
    "google-scholar": "45"
  },
  "gijswijs.github.io",
  "/",
  "2022-03-29T03:32:24.662Z",
  ["46", "47", "48", "49", "50", "51", "52", "53"],
  ["54", "55", "56", "57", "58", "59", "60", "61", "62"],
  ["63"],
  [
    "64",
    "65",
    "66",
    "67",
    "68",
    "69",
    "70",
    "71",
    "72",
    "73",
    "74",
    "75",
    "76",
    "77",
    "78",
    "79",
    "80",
    "81",
    "82",
    "83",
    "84",
    "63",
    "85",
    "86",
    "87",
    "88",
    "89",
    "90",
    "91",
    "92",
    "93",
    "94",
    "95",
    "96",
    "97",
    "98",
    "99",
    "100",
    "101",
    "102",
    "103",
    "104",
    "105",
    "106",
    "107",
    "108",
    "109"
  ],
  [
    "65",
    "70",
    "74",
    "75",
    "77",
    "89",
    "90",
    "91",
    "92",
    "93",
    "94",
    "97",
    "98",
    "99",
    "100",
    "101",
    "102",
    "103",
    "104",
    "105",
    "106",
    "107",
    "108",
    "109"
  ],
  ["76", "81", "82", "85", "86", "87", "88", "95", "96"],
  ["64", "66", "67", "68", "69", "71", "78", "79", "80"],
  ["72", "73", "83", "84"],
  [],
  [],
  [],
  [],
  {
    "posts": "11",
    "stream": "13",
    "navigation": "10",
    "event": "18",
    "rsvp": "19",
    "repost": "17",
    "like": "12",
    "reply": "16",
    "video": "20",
    "photo": "15",
    "note": "14",
    "article": "21"
  },
  ["110", "111"],
  "Image conversion, resizing and compression with WebAssembly",
  "2021-03-31T00:00:00.000Z",
  "miksa/post.njk",
  "<p>Image conversion and resizing for the web can be quite fiddly. Take responsive websites for instance. You want to show a smaller version of your image on smaller devices: You don&#39;t need to download a 1080px wide image to show on a 360px wide device, especially since that device is likely constrained in the amount of bandwidth it has. Then again when your website is shown on an ultra HD screen with 3840x2160 resolution 1080 is maybe even too small.</p>\n<p>Apart from multiple sizes, you also want to offer multiple formats. Modern browsers support new(er) image formats like webp and avif offer better compression for comparable image quality. Using these formats you can decrease the total download size of your page, while improving the overall experience for the user.\nBut you just can&#39;t assume (yet) that all browsers support those newer formats, so you have to provide older formats as a fallback option. All in all the amount of different files you have to offer for just a single image on a web page starts to become quite large and the whole thing becomes, like I said, fiddly.</p>\n<!-- more -->\n<p>Now look at the gif below.</p>\n<p><picture><img src=\"/images/copy-paste-image.gif\" alt=\"animated gif of copy-pasting images with Janos\" title=\"Copy-pasting an image in Janos\" loading=\"lazy\" decoding=\"async\" width=\"888\" height=\"662\"/><figcaption>Copy-pasting an image in Janos</figcaption></picture></p>\n<p>What is happening here? The gif shows the process of screen clipping an image and then pasting it inside the Janos editor. Upon pasting the image, the image is &quot;uploaded&quot;, and that starts a process of resizing and conversion. I use scare quotes around <em>uploaded</em>, because there isn&#39;t anything uploaded yet. Janos uses a small git client under the hood that stores the file in memory as a git blob. Only after committing to GitHub files are really uploaded to the GitHub servers. The pasted image is resized to three different sizes and three different formats (avif, webp and jpg), so in total 9 versions of the image are created. The original image is also stored in all its unresized greatness, making the total amount of files a nice 10. If the original image is copy-pasted like in the example above, it is stored as a png file. If the image is &quot;uploaded&quot; as a file it&#39;s kept as-is.</p>\n<p>This workflow takes the fiddle out of fiddly and leaves us with a nice process of putting images inside a post without hassle. But the attentive reader might ask:</p>\n<blockquote>\n<p>How does this work?\n-- Attentive reader</p>\n</blockquote>\n<p>Since an actual upload hasn&#39;t happened yet, this whole process has to take place inside the browser and it uses WebAssembly to make it happen.</p>\n<h2 id=\"conversion-and-resizing-with-webassembly\">Conversion and resizing with WebAssembly</h2>\n<p>GoogleChromeLabs has made the <a href=\"https://github.com/GoogleChromeLabs/squoosh\">Squoosh app</a>, an amazing web app that offers image compression in all the formats you want. It also offers a Squoosh cli for compressing multiple files at once. I forked Squoosh and made a simple (and hacky) version of the Squoosh cli that runs in the browser. It is like a <em>headless</em> version of the Squoosh app, if you will. For each format Squoosh supports, it uses a codec (did you know codec is a portmanteau of coder-decoder?) developed in either Rust or C++ and compiled to WebAssembly. So this enables the browser to do some pretty heavy lifting with regards to resizing and converting our image. If I run it on my laptop I can hear the fans spin up to cope with the demands of the cpu.</p>\n<h2 id=\"from-markdown-to-html\">From Markdown to html</h2>\n<p>After pasting the image, the Markdown syntax for inserting an image is pasted in the document with a reference to the original file. But that is obviously not the file we want to show in the resulting HTML. In our HTML we want an picture element that contains all our files in all formats and sizes. It should look like this:</p>\n<pre><code class=\"language-html\">&lt;picture\n  &gt;&lt;source\n    srcset=&quot;\n      /images/ever-given_s.avif 461w,\n      /images/ever-given_m.avif 692w,\n      /images/ever-given_l.avif 922w\n    &quot;\n    type=&quot;image/avif&quot; /&gt;\n  &lt;source\n    srcset=&quot;\n      /images/ever-given_s.webp 461w,\n      /images/ever-given_m.webp 692w,\n      /images/ever-given_l.webp 922w\n    &quot;\n    type=&quot;image/webp&quot; /&gt;\n  &lt;img\n    srcset=&quot;\n      /images/ever-given_s.jpg 461w,\n      /images/ever-given_m.jpg 692w,\n      /images/ever-given_l.jpg 922w\n    &quot;\n    src=&quot;/images/ever-given_s.jpg&quot;\n    alt=&quot;Container ship Ever Given&quot;\n    title=&quot;Container ship Ever Given stuck in the Suez Canal&quot;\n    loading=&quot;lazy&quot;\n    decoding=&quot;async&quot;\n    width=&quot;922&quot;\n    height=&quot;480&quot;\n/&gt;&lt;/picture&gt;\n&lt;figcaption&gt;/images/todo-tree.jpg&lt;/figcaption&gt;</code></pre>\n<p>The above snippet is derived from this <a href=\"https://www.stefanjudis.com/snippets/a-picture-element-to-load-correctly-resized-webp-images-in-html/\">snippet</a> with some minor adjustments. It uses <code>srcSet</code> to offer the different sizes of the image. It uses different <code>srcSet</code> to offer the different formats, and it uses <code>src</code> to offer the smallest version to browsers that don&#39;t support any of it. Since <a href=\"https://www.smashingmagazine.com/2020/03/setting-height-width-images-important-again/\">width &amp; height are important</a> for rendering pages fast without layout shifts, we add the width and height from the <em>largest</em> version of the image. This did result in some problems that took quite some time to get figured out: </p>\n<p>Apparently the use of <code>width</code> and <code>height</code> nullifies any use of the <code>sizes</code> attribute in combination with the <code>srcSet</code>. The <code>sizes</code> attribute is meant for defining a set of media conditions (e.g. screen widths) and indicates what image size would be best to choose. The browser uses that info in combination with other information (like device-pixel-ratio) to determine which image file it will download. But because we want to use <code>width</code> and <code>height</code> this means that the <code>sizes</code> attribute is unavailable to us. So we are forced to use good ol&#39; css to indicate the different image sizes under different media conditions. </p>\n<pre><code class=\"language-css\">.article img {\n  max-width: 100%;\n  height: auto;\n}\nfigcaption {\n  text-align: center;\n  margin-top: -1.5rem;\n  font-style: italic;\n}\n@media (min-width: 40rem) {\n  .article img {\n    max-width: calc(100% - 6rem);\n    height: auto;\n    margin: 0 3rem;\n  }\n}\n@media (min-width: 80rem) {\n  .article img {\n    max-width: calc(100% - 12rem);\n    height: auto;\n    margin: 0 6rem;\n  }\n}</code></pre>\n<h2 id=\"metalsmith-plugin-for-the-picture-element\">Metalsmith plugin for the picture element</h2>\n<p>The final ingredient in this mix is a metalsmith plugin that creates the HTML picture element, based on the image referenced in the Markdown. It detects the image, figures out what kind of resized files are available and then converts the Markdown to a picture element. So in the end the picture will look like this:</p>\n<p><picture><source srcSet=\"/images/ever-given_s.avif 540w,/images/ever-given_m.avif 810w,/images/ever-given_l.avif 1080w\" type=\"image/avif\"/><source srcSet=\"/images/ever-given_s.webp 540w,/images/ever-given_m.webp 810w,/images/ever-given_l.webp 1080w\" type=\"image/webp\"/><img srcSet=\"/images/ever-given_s.jpg 540w,/images/ever-given_m.jpg 810w,/images/ever-given_l.jpg 1080w\" src=\"/images/ever-given_s.jpg\" alt=\"Container ship Ever Given\" title=\"Container ship Ever Given stuck in the Suez Canal\" loading=\"lazy\" decoding=\"async\" width=\"1080\" height=\"609\"/><figcaption>Container ship Ever Given stuck in the Suez Canal</figcaption></picture></p>\n<h2 id=\"releasing-everything-as-separate-modules\">Releasing everything as separate modules</h2>\n<p>Currently everything is integrated inside the Janos code base. But I plan on releasing both the <em>headless</em> Squoosh library and the Metalsmith plugin as separate npm modules. When that is done and dusted I will do write-up on how to use and configure said modules to suit your needs.</p>\n",
  "4444",
  { "mode": 100644 },
  "post/image-conversion-resizing-and-compression-with-webassembly",
  ["112"],
  {
    "title": "113",
    "date": "114",
    "layout": "26",
    "tags": "115",
    "libraries": "116",
    "math": false,
    "contents": "117",
    "mode": "28",
    "stats": "118",
    "path": "119",
    "collection": "120",
    "next": "121",
    "excerpt": "122",
    "webmentions": "123"
  },
  {
    "title": "124",
    "date": "125",
    "layout": "26",
    "tags": "126",
    "contents": "127",
    "mode": "28",
    "stats": "128",
    "path": "129",
    "collection": "130",
    "previous": "121",
    "next": "131",
    "excerpt": "132",
    "webmentions": "133"
  },
  "<p>Image conversion and resizing for the web can be quite fiddly. Take responsive websites for instance. You want to show a smaller version of your image on smaller devices: You don&#39;t need to download a 1080px wide image to show on a 360px wide device, especially since that device is likely constrained in the amount of bandwidth it has. Then again when your website is shown on an ultra HD screen with 3840x2160 resolution 1080 is maybe even too small.</p>\n<p>Apart from multiple sizes, you also want to offer multiple formats. Modern browsers support new(er) image formats like webp and avif offer better compression for comparable image quality. Using these formats you can decrease the total download size of your page, while improving the overall experience for the user.\nBut you just can&#39;t assume (yet) that all browsers support those newer formats, so you have to provide older formats as a fallback option. All in all the amount of different files you have to offer for just a single image on a web page starts to become quite large and the whole thing becomes, like I said, fiddly.</p>",
  {
    "lastFetched": "134",
    "children": "135",
    "reply-count": 2,
    "like-count": 3,
    "repost-count": 0
  },
  { "url": "136", "icon": "137", "name": "138", "me": true },
  { "url": "139", "icon": "140", "name": "141", "me": true },
  { "url": "142", "icon": "143", "name": "144", "me": true },
  { "url": "145", "icon": "146", "name": "147", "me": true },
  { "url": "148", "icon": "149", "name": "150", "me": true },
  { "url": "151", "name": "152", "me": false, "rel": "153", "target": "154" },
  { "url": "155", "icon": "156", "name": "157", "me": false, "rel": "158" },
  { "url": "159", "icon": "160", "name": "161", "me": true },
  { "url": "162", "icon": "163", "name": "164", "me": true },
  { "url": "165", "name": "166", "me": true },
  {
    "label": "167",
    "navpath": "8",
    "collection": "168",
    "sortId": 0,
    "contents": "158",
    "mode": "28",
    "stats": "169",
    "path": "170"
  },
  {
    "title": "171",
    "layout": "172",
    "collection": "173",
    "label": "171",
    "sortId": 2,
    "contents": "174",
    "mode": "28",
    "stats": "175",
    "path": "176"
  },
  {
    "title": "177",
    "layout": "172",
    "collection": "178",
    "label": "177",
    "sortId": 3,
    "contents": "179",
    "mode": "28",
    "stats": "180",
    "path": "181"
  },
  {
    "title": "182",
    "layout": "172",
    "collection": "183",
    "label": "182",
    "sortId": 4,
    "contents": "184",
    "mode": "28",
    "stats": "185",
    "path": "186"
  },
  {
    "title": "187",
    "layout": "172",
    "collection": "188",
    "label": "187",
    "sortId": 5,
    "contents": "189",
    "mode": "28",
    "stats": "190",
    "path": "191"
  },
  {
    "title": "192",
    "layout": "172",
    "collection": "193",
    "label": "194",
    "sortId": 6,
    "contents": "195",
    "mode": "28",
    "stats": "196",
    "path": "197"
  },
  {
    "title": "198",
    "layout": "172",
    "collection": "199",
    "label": "200",
    "slug": "201",
    "sortId": 6,
    "contents": "202",
    "mode": "28",
    "stats": "203",
    "path": "201"
  },
  {
    "title": "204",
    "layout": "172",
    "collection": "205",
    "label": "204",
    "sortId": 7,
    "contents": "206",
    "mode": "28",
    "stats": "207",
    "path": "208"
  },
  {
    "title": "113",
    "date": "114",
    "layout": "26",
    "tags": "209",
    "libraries": "210",
    "math": false,
    "contents": "117",
    "mode": "28",
    "stats": "211",
    "path": "119",
    "collection": "212",
    "next": "55",
    "excerpt": "122"
  },
  {
    "title": "24",
    "date": "25",
    "layout": "26",
    "tags": "213",
    "contents": "27",
    "mode": "28",
    "stats": "214",
    "path": "30",
    "collection": "215",
    "previous": "54",
    "next": "56",
    "excerpt": "34"
  },
  {
    "title": "124",
    "date": "125",
    "layout": "26",
    "tags": "216",
    "contents": "127",
    "mode": "28",
    "stats": "217",
    "path": "129",
    "collection": "218",
    "previous": "55",
    "next": "57",
    "excerpt": "132"
  },
  {
    "title": "219",
    "date": "220",
    "layout": "26",
    "tags": "221",
    "contents": "222",
    "mode": "28",
    "stats": "223",
    "path": "224",
    "collection": "225",
    "previous": "56",
    "next": "58",
    "excerpt": "226"
  },
  {
    "title": "227",
    "date": "228",
    "layout": "26",
    "tags": "229",
    "contents": "230",
    "mode": "28",
    "stats": "231",
    "path": "232",
    "collection": "233",
    "previous": "57",
    "next": "59",
    "excerpt": "234"
  },
  {
    "title": "235",
    "date": "236",
    "layout": "26",
    "tags": "237",
    "contents": "238",
    "mode": "28",
    "stats": "239",
    "path": "240",
    "collection": "241",
    "previous": "58",
    "next": "60",
    "excerpt": "242"
  },
  {
    "title": "243",
    "date": "244",
    "layout": "26",
    "tags": "245",
    "contents": "246",
    "mode": "28",
    "stats": "247",
    "path": "248",
    "collection": "249",
    "previous": "59",
    "next": "61",
    "excerpt": "250"
  },
  {
    "title": "251",
    "date": "252",
    "layout": "26",
    "tags": "253",
    "contents": "254",
    "mode": "28",
    "stats": "255",
    "path": "256",
    "collection": "257",
    "previous": "60",
    "next": "62",
    "excerpt": "258"
  },
  {
    "title": "259",
    "date": "260",
    "layout": "26",
    "tags": "261",
    "contents": "262",
    "mode": "28",
    "stats": "263",
    "path": "264",
    "collection": "265",
    "previous": "61",
    "excerpt": "266"
  },
  {
    "layout": "267",
    "date": "268",
    "title": "158",
    "slug": "269",
    "collection": "270",
    "likeof": "271",
    "contents": "158",
    "mode": "28",
    "stats": "272",
    "path": "273",
    "previous": "84",
    "next": "85"
  },
  {
    "layout": "267",
    "date": "274",
    "title": "158",
    "slug": "275",
    "collection": "276",
    "inreplyto": "277",
    "syndicateTo": "278",
    "syndication": "279",
    "contents": "280",
    "mode": "28",
    "stats": "281",
    "path": "282",
    "next": "66"
  },
  {
    "layout": "267",
    "date": "283",
    "title": "158",
    "slug": "284",
    "collection": "285",
    "syndicateTo": "286",
    "syndication": "287",
    "contents": "288",
    "mode": "28",
    "stats": "289",
    "path": "290",
    "previous": "64",
    "next": "70"
  },
  {
    "layout": "267",
    "date": "291",
    "title": "158",
    "slug": "292",
    "collection": "293",
    "inreplyto": "294",
    "syndicateTo": "295",
    "syndication": "296",
    "contents": "297",
    "mode": "28",
    "stats": "298",
    "path": "299",
    "previous": "64",
    "next": "67"
  },
  {
    "layout": "267",
    "date": "300",
    "title": "158",
    "slug": "301",
    "collection": "302",
    "inreplyto": "303",
    "syndicateTo": "304",
    "syndication": "305",
    "contents": "306",
    "mode": "28",
    "stats": "307",
    "path": "308",
    "previous": "66",
    "next": "68"
  },
  {
    "layout": "267",
    "date": "309",
    "title": "158",
    "slug": "310",
    "collection": "311",
    "inreplyto": "312",
    "syndicateTo": "313",
    "syndication": "314",
    "contents": "315",
    "mode": "28",
    "stats": "316",
    "path": "317",
    "previous": "67",
    "next": "69"
  },
  {
    "layout": "267",
    "date": "318",
    "title": "158",
    "slug": "319",
    "collection": "320",
    "inreplyto": "321",
    "media": "322",
    "syndicateTo": "323",
    "syndication": "324",
    "contents": "158",
    "mode": "28",
    "stats": "325",
    "path": "326",
    "previous": "68",
    "next": "71"
  },
  {
    "layout": "267",
    "date": "327",
    "title": "158",
    "slug": "328",
    "collection": "329",
    "syndicateTo": "330",
    "syndication": "331",
    "contents": "332",
    "mode": "28",
    "stats": "333",
    "path": "334",
    "previous": "65",
    "next": "74"
  },
  {
    "layout": "267",
    "date": "335",
    "title": "158",
    "slug": "336",
    "collection": "337",
    "inreplyto": "338",
    "syndicateTo": "339",
    "syndication": "340",
    "contents": "341",
    "mode": "28",
    "stats": "342",
    "path": "343",
    "previous": "69",
    "next": "78"
  },
  {
    "layout": "267",
    "date": "344",
    "title": "158",
    "slug": "345",
    "collection": "346",
    "repostof": "347",
    "syndicateTo": "348",
    "contents": "158",
    "mode": "28",
    "stats": "349",
    "path": "350",
    "previous": "71",
    "next": "73"
  },
  {
    "layout": "267",
    "date": "351",
    "title": "158",
    "slug": "352",
    "collection": "353",
    "repostof": "354",
    "syndicateTo": "355",
    "contents": "158",
    "mode": "28",
    "stats": "356",
    "path": "357",
    "previous": "72",
    "next": "83"
  },
  {
    "layout": "267",
    "date": "358",
    "title": "158",
    "slug": "359",
    "collection": "360",
    "syndicateTo": "361",
    "syndication": "362",
    "contents": "363",
    "mode": "28",
    "stats": "364",
    "path": "365",
    "previous": "70",
    "next": "75"
  },
  {
    "layout": "267",
    "date": "366",
    "title": "158",
    "slug": "367",
    "collection": "368",
    "contents": "369",
    "mode": "28",
    "stats": "370",
    "path": "371",
    "previous": "74",
    "next": "77"
  },
  {
    "layout": "267",
    "date": "372",
    "title": "158",
    "slug": "373",
    "collection": "374",
    "media": "375",
    "syndicateTo": "376",
    "syndication": "377",
    "contents": "378",
    "mode": "28",
    "stats": "379",
    "path": "380",
    "previous": "75",
    "next": "81"
  },
  {
    "layout": "267",
    "date": "381",
    "title": "158",
    "slug": "382",
    "collection": "383",
    "syndicateTo": "384",
    "syndication": "385",
    "contents": "386",
    "mode": "28",
    "stats": "387",
    "path": "388",
    "previous": "75",
    "next": "89"
  },
  {
    "layout": "267",
    "date": "389",
    "title": "158",
    "slug": "390",
    "collection": "391",
    "inreplyto": "392",
    "syndicateTo": "393",
    "syndication": "394",
    "contents": "395",
    "mode": "28",
    "stats": "396",
    "path": "397",
    "previous": "71",
    "next": "79"
  },
  {
    "layout": "267",
    "date": "398",
    "title": "158",
    "slug": "399",
    "collection": "400",
    "inreplyto": "401",
    "syndicateTo": "402",
    "syndication": "403",
    "contents": "404",
    "mode": "28",
    "stats": "405",
    "path": "406",
    "previous": "78",
    "next": "80"
  },
  {
    "layout": "267",
    "date": "407",
    "title": "158",
    "slug": "408",
    "collection": "409",
    "inreplyto": "410",
    "syndicateTo": "411",
    "syndication": "412",
    "contents": "413",
    "mode": "28",
    "stats": "414",
    "path": "415",
    "previous": "79",
    "next": "81"
  },
  {
    "layout": "267",
    "date": "416",
    "title": "158",
    "slug": "417",
    "collection": "418",
    "media": "419",
    "syndicateTo": "420",
    "syndication": "421",
    "contents": "422",
    "mode": "28",
    "stats": "423",
    "path": "424",
    "previous": "76",
    "next": "82"
  },
  {
    "layout": "267",
    "date": "425",
    "title": "158",
    "slug": "426",
    "collection": "427",
    "media": "428",
    "syndicateTo": "429",
    "syndication": "430",
    "contents": "431",
    "mode": "28",
    "stats": "432",
    "path": "433",
    "previous": "81",
    "next": "85"
  },
  {
    "layout": "267",
    "date": "434",
    "title": "158",
    "slug": "435",
    "collection": "436",
    "repostof": "437",
    "syndicateTo": "438",
    "contents": "158",
    "mode": "28",
    "stats": "439",
    "path": "440",
    "previous": "73",
    "next": "84"
  },
  {
    "layout": "267",
    "date": "441",
    "title": "158",
    "slug": "442",
    "collection": "443",
    "repostof": "444",
    "syndicateTo": "445",
    "contents": "158",
    "mode": "28",
    "stats": "446",
    "path": "447",
    "previous": "83",
    "next": "63"
  },
  {
    "layout": "267",
    "date": "448",
    "title": "158",
    "slug": "449",
    "collection": "450",
    "media": "451",
    "syndicateTo": "452",
    "syndication": "453",
    "contents": "454",
    "mode": "28",
    "stats": "455",
    "path": "456",
    "previous": "82",
    "next": "86"
  },
  {
    "layout": "267",
    "date": "457",
    "title": "158",
    "mf-mp-syndicate-to": "458",
    "slug": "459",
    "collection": "460",
    "media": "461",
    "contents": "462",
    "mode": "28",
    "stats": "463",
    "path": "464",
    "previous": "85",
    "next": "87"
  },
  {
    "layout": "267",
    "date": "465",
    "title": "158",
    "slug": "466",
    "collection": "467",
    "media": "468",
    "contents": "462",
    "mode": "28",
    "stats": "469",
    "path": "470",
    "previous": "86",
    "next": "88"
  },
  {
    "layout": "267",
    "date": "471",
    "title": "158",
    "slug": "472",
    "collection": "473",
    "media": "474",
    "contents": "462",
    "mode": "28",
    "stats": "475",
    "path": "476",
    "previous": "87",
    "next": "95"
  },
  {
    "layout": "267",
    "date": "477",
    "title": "158",
    "slug": "478",
    "collection": "479",
    "photo": "480",
    "syndication": "481",
    "contents": "482",
    "mode": "28",
    "stats": "483",
    "path": "484",
    "previous": "77",
    "next": "90"
  },
  {
    "layout": "267",
    "date": "485",
    "title": "158",
    "slug": "486",
    "collection": "487",
    "contents": "488",
    "mode": "28",
    "stats": "489",
    "path": "490",
    "previous": "89",
    "next": "91"
  },
  {
    "layout": "267",
    "date": "491",
    "title": "158",
    "slug": "492",
    "collection": "493",
    "contents": "494",
    "mode": "28",
    "stats": "495",
    "path": "496",
    "previous": "90",
    "next": "92"
  },
  {
    "layout": "267",
    "date": "497",
    "title": "158",
    "slug": "498",
    "collection": "499",
    "contents": "500",
    "mode": "28",
    "stats": "501",
    "path": "502",
    "previous": "91",
    "next": "93"
  },
  {
    "layout": "267",
    "date": "503",
    "title": "158",
    "slug": "504",
    "collection": "505",
    "contents": "506",
    "mode": "28",
    "stats": "507",
    "path": "508",
    "previous": "92",
    "next": "94"
  },
  {
    "layout": "267",
    "date": "509",
    "title": "158",
    "tags": "510",
    "slug": "511",
    "collection": "512",
    "contents": "513",
    "mode": "28",
    "stats": "514",
    "path": "515",
    "previous": "93",
    "next": "97"
  },
  {
    "layout": "267",
    "date": "516",
    "title": "158",
    "media": "517",
    "slug": "518",
    "collection": "519",
    "contents": "520",
    "mode": "28",
    "stats": "521",
    "path": "522",
    "previous": "88",
    "next": "96"
  },
  {
    "layout": "267",
    "date": "523",
    "title": "158",
    "media": "524",
    "slug": "525",
    "collection": "526",
    "contents": "520",
    "mode": "28",
    "stats": "527",
    "path": "528",
    "previous": "95",
    "next": "97"
  },
  {
    "layout": "267",
    "date": "529",
    "title": "158",
    "tags": "530",
    "slug": "531",
    "collection": "532",
    "contents": "533",
    "mode": "28",
    "stats": "534",
    "path": "535",
    "previous": "94",
    "next": "98"
  },
  {
    "layout": "267",
    "date": "536",
    "title": "158",
    "slug": "537",
    "collection": "538",
    "contents": "539",
    "mode": "28",
    "stats": "540",
    "path": "541",
    "previous": "97",
    "next": "99"
  },
  {
    "layout": "267",
    "date": "542",
    "title": "158",
    "slug": "543",
    "collection": "544",
    "contents": "494",
    "mode": "28",
    "stats": "545",
    "path": "546",
    "previous": "98",
    "next": "100"
  },
  {
    "layout": "267",
    "date": "547",
    "title": "158",
    "slug": "548",
    "mf-photo": "549",
    "collection": "550",
    "contents": "551",
    "mode": "28",
    "stats": "552",
    "path": "553",
    "previous": "99",
    "next": "101"
  },
  {
    "layout": "267",
    "date": "554",
    "title": "158",
    "slug": "555",
    "mf-photo": "556",
    "collection": "557",
    "contents": "558",
    "mode": "28",
    "stats": "559",
    "path": "560",
    "previous": "100",
    "next": "102"
  },
  {
    "layout": "267",
    "date": "561",
    "title": "158",
    "slug": "562",
    "mf-photo": "563",
    "collection": "564",
    "contents": "565",
    "mode": "28",
    "stats": "566",
    "path": "567",
    "previous": "101",
    "next": "103"
  },
  {
    "layout": "267",
    "date": "568",
    "title": "158",
    "tags": "569",
    "slug": "570",
    "collection": "571",
    "location": "572",
    "contents": "573",
    "mode": "28",
    "stats": "574",
    "path": "575",
    "previous": "102",
    "next": "104"
  },
  {
    "layout": "267",
    "date": "576",
    "title": "158",
    "tags": "577",
    "slug": "578",
    "collection": "579",
    "location": "580",
    "contents": "573",
    "mode": "28",
    "stats": "581",
    "path": "582",
    "previous": "103",
    "next": "105"
  },
  {
    "layout": "267",
    "date": "583",
    "title": "158",
    "slug": "584",
    "mf-photo": "585",
    "collection": "586",
    "contents": "565",
    "mode": "28",
    "stats": "587",
    "path": "588",
    "previous": "104",
    "next": "106"
  },
  {
    "layout": "267",
    "date": "589",
    "title": "158",
    "slug": "590",
    "collection": "591",
    "syndication": "592",
    "contents": "593",
    "mode": "28",
    "stats": "594",
    "path": "595",
    "previous": "105",
    "next": "107"
  },
  {
    "layout": "267",
    "date": "596",
    "title": "158",
    "tags": "597",
    "slug": "598",
    "collection": "599",
    "location": "600",
    "contents": "573",
    "mode": "28",
    "stats": "601",
    "path": "602",
    "previous": "106",
    "next": "108"
  },
  {
    "layout": "267",
    "date": "603",
    "title": "158",
    "tags": "604",
    "slug": "605",
    "collection": "606",
    "location": "607",
    "contents": "573",
    "mode": "28",
    "stats": "608",
    "path": "609",
    "previous": "107",
    "next": "109"
  },
  {
    "layout": "267",
    "date": "610",
    "title": "158",
    "tags": "611",
    "slug": "612",
    "collection": "613",
    "location": "614",
    "contents": "615",
    "mode": "28",
    "stats": "616",
    "path": "617",
    "previous": "108"
  },
  { "name": "618", "slug": "618" },
  { "name": "619", "slug": "619" },
  "posts",
  "How do payments in Lightning Network work?",
  "2022-03-11T00:00:00.000Z",
  ["620", "621", "622"],
  ["623"],
  "<p>Lightning Network is a peer-to-peer payment network that runs on top of the Bitcoin Blockchain. Because it runs on top of the Blockchain it is called a <em>layer-two solution</em>, which groups it together with other solutions that have this property of being built on top of a Blockchain. <em>Layer One</em> is the base layer, where the Blockchain lives. Because of the inherent properties of Layer One, it is impossible to process large amounts of transactions in that layer. The Bitcoin Blockchain can famously process a mere seven transactions per second on average. This constraint was the main impetus for the creation of Layer Two solutions. Lightning Network, being a Layer Two solution, allows for near instant transactions, that can easily scale to millions of transactions per second.</p>\n<!-- more -->\n<p>Lightning Network uses Bitcoin transactions, just like &quot;vanilla&quot; Bitcoin transactions in Layer One. This means that the underlying trust assumptions of Bitcoin are not forfeited by Lightning Network. The consensus model of Bitcoin isn&#39;t impacted either, so in that sense Lightning Network offers plain ol&#39; Bitcoin transactions, but with the goodness of instantaneity and near infinite scalability. </p>\n<p>So what&#39;s the trick that Lightning Network uses to make this possible? Well, participants of Lightning Network transact with each other by means of exchanging Bitcoin transactions that <em>could</em> be broadcasted to the Blockchain (like a normal Bitcoin transaction) but in practice rarely ever <em>have</em> to be broadcasted to the Blockchain. So the vast majority of the transactions in Lightning Network will never hit the Blockchain, and aren&#39;t bogged down by waiting times for transactions being broadcasted, or high transaction fees.</p>\n<h2 id=\"payment-channels\">Payment Channels</h2>\n<p>Lightning Network employs a concept called <em>Payment Channel</em> to make this trick possible. A Payment Channel is a channel between two participants in the Lightning Network. A channel is opened by a <em>funding transaction</em>. This determines the total amount of money in the channel, aka the channel capacity. The two participants at either end of the channel can now transact with each other. You can think of the channel as an abacus or counting frame with only one row of beads that connects the two participants. Transactions are now done by sliding beads up and down the abacus to either side, representing the transaction amounts.</p>\n<div id=\"scene1\"></div>\n<div class=\"controls1\">\n  <button>Play</button>\n</div>\n\n<p>Every time beads are pushed from one side to another, a new Bitcoin transaction is created that represents the new balance of the channel. Each transactions spends the funding transaction and divides the funding amount according to the balance of the payment channel. But those transactions are not broadcasted to the Blockchain if the channel is to remain open. So, a Payment Channel is at its core a set of consecutive Bitcoin transactions. The latest transaction added to the set represents the current state of the channel. So in the case of the animation above, the latest state of the channel would be represented by a Bitcoin transaction that would spend the funding of 5 beads into three beads for Bob and two beads for Alice.</p>\n<p>Both participants have their own copy of those Bitcoin transactions. They can broadcast the latest state of the channel to the Blockchain whenever they feel like it. They can do this either in consultation with each other (called a cooperative close) or unilaterally. This broadcast of the latest state is called the closing of the channel. After this the channel is defunct, and no more transactions can take place. </p>\n<p>In principle there is nothing that keeps a node from broadcasting an old state. In the example above Alice might be tempted to broadcast the first state of the channel, in which she would receive five beads (and Bob zero), instead of the latest state in which she would receive two beads and Bob three. To disincentivize broadcasting old states, Lightning Network has a very smart penalty system, that allows Bob to punish Alice when she broadcasts an old state. The punishment is simple and harsh, namely the perp loses all funds, which are then funneled to the maligned party. The ins and outs of that penalty system will be a topic for another blog post.</p>\n<h2 id=\"multi-hop-payments\">Multi-hop Payments</h2>\n<p>Lightning Network has a second feature that drastically reduces the amount of transactions that need to be broadcasted to the Blockchain: Multi-hop payments. In Lightning Network you don&#39;t need to open up a channel with every party that you want to transact with. You can transact with every node as long as there is a payment route from you to that node. So if we extend our network consisting of Alice and Bob, with a third node, Carol and a channel between her and Bob, Alice is able to transact with Carol without the need for opening up a direct channel with Carol. A channel not opened is a funding transaction not having to be broadcasted to the blockchain, so this is the second </p>\n<div id=\"scene2\"></div>\n<div class=\"controls2\">\n  <button>Play</button>\n</div>\n\n<p>So long as Alice is able to find a route to Carol, and the balances along that route are sufficient for the amount of the payment (in this case the balance at Alice&#39;s side in the channel between her and Bob, and the balance at Bob&#39;s side in the channel between him and Carol) the payment can go through. But how can we trust Bob that he will forward our payment to Carol? Why wouldn&#39;t he be tempted to collect the payment from Alice to him and just keep the money? We set out stating that the underlying trust assumptions of Bitcoin are not affected by Lightning Network, so we can&#39;t just introduce trust in a system that is supposed to be trustless. We can&#39;t trust Bob on his blue eyes, or whatever color they might be. This is where HTLC&#39;s come in, the final piece of Bitcoin trickery that makes payments in Lightning Network possible.</p>\n<h2 id=\"htlcs\">HTLC&#39;s</h2>\n<p>HTLC&#39;s is what makes payments in Lightning Network trustless. HTLC stands for <em>Hashed TimeLock Contracts</em>. To understand how an HTLC works we maybe need to take a step back and look at how a basic Bitcoin transaction works. In the above examples we could think of the transactions as being <em>Pay-to-PubKey-Hash</em> (P2PKH). This is the most common form of payment on the Bitcoin network. It is a payment to a Bitcoin address that can only be spent by the person that controls the corresponding private key. But using P2PKH wouldn&#39;t allow us to make trustless multi-hop payments. To achieve this we need <em>Pay-to-Script-Hash</em> (P2SH), which is way to create <em>custom</em> redeem scripts. A custom redeem script makes it possible to unlock a payment on the basis of something more complex than just controlling the private key belonging to a Bitcoin address. </p>\n<p>The redeem script for an HTLC knows two execution paths. One path encodes the time lock and the other encodes the hash lock. The hash lock path pays out to the <em>receiver</em>. It ensures that the receiver can spend the output of the HTLC under the condition that he can provide the secret value (also called <em>pre-image</em>) used to create the hash. The time lock ensures that the <em>sender</em> of the payment can spend the output of the HTLC after a fixed amount of time. The payer, in our case Alice, chooses the timeout, say 48 hours, but she also needs to create the hash lock. Alice needs to be sure that Carol is the <em>only</em> one that can open the hash lock. To do so she asks Carol to provide her with a hash of a pre-image (the secret value) that only Carol knows. This is the hash that Alice will use for the hash lock. With all the ingredients in place, Alice can now set up a payment to Carol.</p>\n<div id=\"scene3\"></div>\n<div class=\"controls3\">\n  <button>Play</button>\n</div>\n\n<p>Alice, having received the hash from Carol, finds a route to Carol. In our network there is only one route to Carol, namely via Bob. Alice now sets up an HTLC with Bob with a timeout of 48 hours for the time lock, and the hash provided by Carol for the hash lock. Bob receives the HTLC <em>and</em> the route of the payment. Reading the route, he knows that he needs to set up a payment with Carol. Now it is time for Bob to set up an HTLC with Carol. He uses <em>the exact same</em> hash for the hash lock, but a timeout that is a few hours shorter than the one Alice granted him. The shorter timeout leaves Bob with enough time to claim his money once he learns the pre-image. Upon receiving the HTLC from Bob, Carol sees from the route that she is the receiver of the payment and she recognizes the hash. Moreover, she knows the secret pre-image belonging to that hash. By unlocking the hash lock, she reveals the pre-image to Bob. Bob, in his turn, can now unlock the HTLC he received from Alice. If for whatever reason Carol fails to reveal the pre-image, the timeouts make sure all the beads would return to their original position, as if no payment ever happened.</p>\n<svg id=\"sprites\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0\" y=\"0\" width=\"0\" height=\"0\">\n  <defs>\n    <g id=\"bubble\" opacity=\"0\">\n      <rect\n        fill=\"white\"\n        height=\"60\"\n        rx=\"5\"\n        ry=\"5\"\n        stroke=\"black\"\n        stroke-width=\"0.75\"\n        width=\"200\"\n        x=\".75\"\n        y=\"13\"\n      />\n      <polygon\n        id=\"pointblack\"\n        points=\"5.75,0 15.75,0 10.75,5\"\n        fill=\"black\"\n      />\n      <polygon\n        id=\"pointwhite\"\n        points=\"6.5,0 15,0 10.75,4.25\"\n        fill=\"white\"\n      />\n      <text\n        font-size=\"8\"\n        font-family=\"sans-serif\"\n        font-weight=\"bold\"\n        dominant-baseline=\"middle\"\n        fill=\"black\"\n      >\n        <tspan x=\"101.5\" id=\"line1\" dy=\"18.75\" text-anchor=\"middle\">\n          Line 2\n        </tspan>\n        <tspan x=\"101.5\" id=\"line2\" dy=\"11.5\" text-anchor=\"middle\">\n          Line 2\n        </tspan>\n      </text>\n    </g>\n    <svg\n      id=\"lnNode\"\n      viewBox=\"0 0 116 74\"\n      width=\"116\"\n      height=\"74\"\n      x=\"0\"\n      y=\"0\"\n    >\n      <rect\n        x=\"3\"\n        y=\"3\"\n        rx=\"10\"\n        ry=\"10\"\n        width=\"110\"\n        height=\"68\"\n        style=\"fill: none; stroke: black; stroke-width: 3\"\n      />\n      <text\n        font-size=\"30\"\n        font-family=\"serif\"\n        fill=\"black\"\n        x=\"50%\"\n        y=\"50%\"\n        dominant-baseline=\"middle\"\n        text-anchor=\"middle\"\n      >\n        NAME\n      </text>\n    </svg>\n    <svg\n      id=\"lock\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"-12 -12 24 24\"\n      width=\"100\"\n      height=\"100\"\n      x=\"110\"\n      opacity=\"0\"\n    >\n      <path\n        id=\"shackle\"\n        d=\"M 3.5 3 L 3.5 -3 A 3.5 3.5 0 0 0 -3.5 -3 L -3.5 0\"\n        stroke=\"black\"\n        fill=\"none\"\n        stroke-width=\"1.2\"\n      />\n      <rect\n        x=\"-5\"\n        y=\"0\"\n        width=\"10\"\n        height=\"10\"\n        fill=\"white\"\n        stroke=\"black\"\n        stroke-width=\"1\"\n      />\n    </svg>\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"-12 -12 24 24\"\n      x=\"0\"\n      y=\"0\"\n      width=\"38\"\n      height=\"38\"\n      id=\"hourglass\"\n    >\n      <g transform=\"rotate(180)\">\n        <g id=\"hourglass\">\n          <defs>\n            <clipPath id=\"myClip\">\n              <rect x=\"-12\" y=\"-10\" width=\"24\" height=\"18\" />\n            </clipPath>\n          </defs>\n          <circle\n            id=\"sandTop\"\n            cx=\"0\"\n            cy=\"-10\"\n            r=\"7\"\n            stroke=\"none\"\n            clip-path=\"url(#myClip)\"\n            fill=\"black\"\n          />\n          <path\n            id=\"clip\"\n            d=\"M -12 -12 L -2 0 L 2 0 L 12 -12 L 12 12 L -12 12 Z\"\n            fill=\"white\"\n            stroke=\"none\"\n          />\n          <path\n            d=\"M15.566 11.021A7.016 7.016 0 0 0 19 5V4h1V2H4v2h1v1a7.016 7.016 0 0 0 3.434 6.021c.354.208.566.545.566.9v.158c0 .354-.212.69-.566.9A7.016 7.016 0 0 0 5 19v1H4v2h16v-2h-1v-1a7.014 7.014 0 0 0-3.433-6.02c-.355-.21-.567-.547-.567-.901v-.158c0-.355.212-.692.566-.9zm-1.015 3.681A5.008 5.008 0 0 1 17 19v1H7v-1a5.01 5.01 0 0 1 2.45-4.299c.971-.573 1.55-1.554 1.55-2.622v-.158c0-1.069-.58-2.051-1.551-2.623A5.008 5.008 0 0 1 7 5V4h10v1c0 1.76-.938 3.406-2.449 4.298C13.58 9.87 13 10.852 13 11.921v.158c0 1.068.579 2.049 1.551 2.623z\"\n            transform=\"translate(-12,-12)\"\n            fill=\"black\"\n          />\n          <circle\n            id=\"sandBottom\"\n            cx=\"0\"\n            cy=\"15.5\"\n            r=\"7\"\n            stroke=\"none\"\n            fill=\"black\"\n          />\n          <line\n            id=\"sandStream\"\n            x1=\"0\"\n            y1=\"-9\"\n            x2=\"0\"\n            y2=\"-4\"\n            stroke=\"black\"\n            stroke-width=\"2\"\n          />\n          <rect\n            x=\"-12\"\n            y=\"10\"\n            width=\"24\"\n            height=\"14\"\n            stroke=\"none\"\n            fill=\"white\"\n          />\n        </g>\n      </g>\n    </svg>\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"-12 -12 24 24\"\n      x=\"0\"\n      y=\"0\"\n      width=\"38\"\n      height=\"38\"\n      id=\"numpad\"\n    >\n      <rect\n        id=\"numpad1\"\n        x=\"-12\"\n        y=\"-12\"\n        width=\"6\"\n        height=\"6\"\n        fill=\"black\"\n        stroke=\"none\"\n      />\n      <rect\n        id=\"numpad2\"\n        x=\"-3\"\n        y=\"-12\"\n        width=\"6\"\n        height=\"6\"\n        fill=\"black\"\n        stroke=\"none\"\n      />\n      <rect\n        id=\"numpad3\"\n        x=\"6\"\n        y=\"-12\"\n        width=\"6\"\n        height=\"6\"\n        fill=\"black\"\n        stroke=\"none\"\n      />\n      <rect\n        id=\"numpad4\"\n        x=\"-12\"\n        y=\"-3\"\n        width=\"6\"\n        height=\"6\"\n        fill=\"black\"\n        stroke=\"none\"\n      />\n      <rect\n        id=\"numpad5\"\n        x=\"-3\"\n        y=\"-3\"\n        width=\"6\"\n        height=\"6\"\n        fill=\"black\"\n        stroke=\"none\"\n      />\n      <rect\n        id=\"numpad6\"\n        x=\"6\"\n        y=\"-3\"\n        width=\"6\"\n        height=\"6\"\n        fill=\"black\"\n        stroke=\"none\"\n      />\n      <rect\n        id=\"numpad7\"\n        x=\"-12\"\n        y=\"6\"\n        width=\"6\"\n        height=\"6\"\n        fill=\"black\"\n        stroke=\"none\"\n      />\n      <rect\n        id=\"numpad8\"\n        x=\"-3\"\n        y=\"6\"\n        width=\"6\"\n        height=\"6\"\n        fill=\"black\"\n        stroke=\"none\"\n      />\n      <rect\n        id=\"numpad9\"\n        x=\"6\"\n        y=\"6\"\n        width=\"6\"\n        height=\"6\"\n        fill=\"black\"\n        stroke=\"none\"\n      />\n    </svg>\n  </defs>\n</svg>",
  { "mode": 100644 },
  "post/how-do-payments-in-lightning-network-work",
  ["112"],
  {
    "title": "24",
    "date": "25",
    "layout": "26",
    "tags": "23",
    "contents": "27",
    "mode": "28",
    "stats": "29",
    "path": "30",
    "collection": "31",
    "previous": "32",
    "next": "33",
    "excerpt": "34",
    "webmentions": "35"
  },
  "<p>Lightning Network is a peer-to-peer payment network that runs on top of the Bitcoin Blockchain. Because it runs on top of the Blockchain it is called a <em>layer-two solution</em>, which groups it together with other solutions that have this property of being built on top of a Blockchain. <em>Layer One</em> is the base layer, where the Blockchain lives. Because of the inherent properties of Layer One, it is impossible to process large amounts of transactions in that layer. The Bitcoin Blockchain can famously process a mere seven transactions per second on average. This constraint was the main impetus for the creation of Layer Two solutions. Lightning Network, being a Layer Two solution, allows for near instant transactions, that can easily scale to millions of transactions per second.</p>",
  {
    "lastFetched": "624",
    "children": "625",
    "reply-count": 0,
    "like-count": 0,
    "repost-count": 0
  },
  "Measuring your writing progress with a git word count",
  "2021-02-26T00:00:00.000Z",
  ["626", "627", "628"],
  "<p>Writing a scientific paper is hard. Doing your PhD is hard. Writing your thesis is hard. And to make me feel even more miserable I decided to measure my progress by counting the net change in words I achieve throughout each day.\nI am by no means a productivity guru and I don&#39;t know whether word count is a useful indicator for measuring the progress of a paper. That being said, it is a reality check to see how fast my  work is progressing.\nSo without further ado here&#39;s the Powershell command that outputs the wordcount for the last 25 days based on git commits.</p>\n<pre><code class=\"language-powershell\">for($i = 0; $i -lt 25; $i++){$j = $i + 1; Write-Host (get-date (get-date).addDays(-$i) -UFormat &quot;%Y%m%d&quot;) ((git diff --word-diff=porcelain &quot;@{$j days ago}&quot; &quot;@{$i days ago}&quot;   -- &quot;***.md&quot;| Select-String -Pattern &quot;^\\+.*&quot; | Measure-Object -word | select -ExpandProperty Words) - (git diff --word-diff=porcelain &quot;@{$j days ago}&quot; &quot;@{$i days ago}&quot;  -- &quot;***.md&quot;| Select-String -Pattern &quot;^-.*&quot; | Measure-Object -word | select -ExpandProperty Words)) }</code></pre>\n<!-- more -->\n<h2 id=\"what-does-it-do\">What does it do?</h2>\n<p>At the core of this script is the following git command:</p>\n<pre><code>git diff --word-diff=porcelain &quot;@{$j days ago}&quot; &quot;@{$i days ago}&quot;   -- &quot;***.md&quot;</code></pre><p>This command uses <code>git diff</code> (duh!) with the <code>--word-diff</code> option which marks the actual word being changed instead of the entire line that contains it. The latter is the default behavior of <code>git diff</code> and is not what we want when performing a word count. <code>porcelain</code> denotes the special line-based format for <code>word-diff</code> meant for script consumption, which is what we will do next. <code>-- &quot;***.md&quot;</code> only considers markdown files which are the files that contain all the content of my paper in <a href=\"https://github.com/neumannjs/boilerplate-paper\">Boilerplate Paper</a>. It is important to note that if you don&#39;t commit regularly (at least daily) this word count doesn&#39;t come up with accurate data.</p>\n<p>If you run only this command, you would get something like this.</p>\n<pre><code>~\ndiff --git a/e-diff-paper/paper/03_method.md b/e-diff-paper/paper/03_method.md\nindex a3b4dfe..c4a565c 100644\n--- a/e-diff-paper/paper/03_method.md\n+++ b/e-diff-paper/paper/03_method.md\n@@ -1,8 +1,8 @@\n # Method\n~\n\n~\n Our goal is to obtain differential privacy for the balance of a Lightning Network payment channel. This goal differs from the original setting of differential privacy. Originally differential privacy\n-was\n  meant to ensure that adding or deleting a record\n-from\n+in\n  a database did not change the answer to statistical differential private queries significantly. To achieve that, noise is added to the query answer. By observing this noisy answer \n-a passive\n+an\n  observer is unable to discern if a specific record is in the database or not, regardless of the information this observer possesses about the other records in the database. This adding of noise is done through a probabilistic algorithm applied to the data set contained in the database.\n~\n\n~\n Our case is different in a consequential way. A passive observer can use a BDA again and again to get a reading on the balance. The information that this observer obtains is comparable to a stream of data. To cater to our situation we expand the basic definition of (approximate) differential privacy to \n-streams\n+streams,\n  similarly to [@Chan2011].</code></pre><p>Those lines starting with <code>-</code> or <code>+</code> are the ones we are interested in, because those are the words that have been deleted and added. We pipe the results of that command into <code>Select-String</code> which is kind of like grep for Powershell.</p>\n<pre><code>Select-String -Pattern &quot;^\\+(?!\\+\\+\\s).*&quot;</code></pre><p>The regex pattern matches with all lines starting with <code>+</code> except if it is followed by <code>++</code> (we use the negative lookahead to check for that) because the three plus-signs are use to indicate file names that have additions, not the addition itself. If you run the above two commands piped together you would get a result like this:</p>\n<pre><code>+#\n+## Just-In-Time Routing\n+Just-in-time routing or JIT routing [@Pickhardt2019] was proposed as a solution to mitigate routing failures due to insufficient funds. LN uses source based routing, where the send \ner of the payment has to guess the route over which to send a payment. Since a node is only aware of the balances of channels that it is part of, a sender node can only guess if a r\noute with other channels has enough liquidity to process the payment. This can lead to relatively large amounts of failed payments due to insufficient funds somewhere along the rout \ne.\n+JIT Routing tries to make the routing process more like best effort routing known in IP-forwarding. The concept depends on nodes quickly rebalancing their channels upon receiving a\n routing request (HTLC) for which they have insufficient funds. Because a node along the route has more knowledge of its local neighborhood than the sender node, it can use that kno\nwledge to perform a small transaction within its local neighborhood of channels to rebalance funds in such a way that original routing request can proceed. Given that the rebalancin \ng succeeds within the timeframe of the routing request, the requests now succeeds where it would have failed without JIT routing.\n+in\n+an\n+streams,</code></pre><p>Although there is some Markdown markup that shouldn&#39;t be counted as words (like <code>#</code> and <code>##</code>) this is good enough for my purposes. So we pipe the results into our next two commands.</p>\n<pre><code>Measure-Object -word | select -ExpandProperty Words</code></pre><p>These are plain and simple, the first command performs the actual word count, but since Powershell always returns an object, we need the latter command to enumerate the values of the object and select the value. Everything piped together returns just a number.</p>\n<pre><code>248</code></pre><p>Now we do the same thing for the deleted words. We run the same commands but now with a different regex expression: <code>Select-String -Pattern &quot;^\\-(?!\\-\\-\\s).*&quot;</code></p>\n<p>We substract the deleted words from the added words and we have our nett change in words for the day. All that is left to do is to wrap everything in a loop that goes back as much days as you want (25 in the above script) and outputs the date with the word count for that date.</p>\n<p>So this is my progress for the past few days of a particular paper I am writing:</p>\n<pre><code>20210226 237\n20210225 0\n20210224 0\n20210223 0\n20210222 0\n20210221 0\n20210220 0\n20210219 0\n20210218 591\n20210217 190\n20210216 332\n20210215 0\n20210214 0\n20210213 0\n20210212 0\n20210211 925\n20210210 0\n20210209 382</code></pre><p>I guess I was just busy with other things...</p>\n",
  { "mode": 100644 },
  "post/measuring-your-writing-progress-with-a-git-word-count",
  ["112"],
  {
    "title": "219",
    "date": "220",
    "layout": "26",
    "tags": "629",
    "contents": "222",
    "mode": "28",
    "stats": "630",
    "path": "224",
    "collection": "631",
    "previous": "33",
    "next": "632",
    "excerpt": "226",
    "webmentions": "633"
  },
  "<p>Writing a scientific paper is hard. Doing your PhD is hard. Writing your thesis is hard. And to make me feel even more miserable I decided to measure my progress by counting the net change in words I achieve throughout each day.\nI am by no means a productivity guru and I don&#39;t know whether word count is a useful indicator for measuring the progress of a paper. That being said, it is a reality check to see how fast my  work is progressing.\nSo without further ado here&#39;s the Powershell command that outputs the wordcount for the last 25 days based on git commits.</p>\n<pre><code class=\"language-powershell\">for($i = 0; $i -lt 25; $i++){$j = $i + 1; Write-Host (get-date (get-date).addDays(-$i) -UFormat &quot;%Y%m%d&quot;) ((git diff --word-diff=porcelain &quot;@{$j days ago}&quot; &quot;@{$i days ago}&quot;   -- &quot;***.md&quot;| Select-String -Pattern &quot;^\\+.*&quot; | Measure-Object -word | select -ExpandProperty Words) - (git diff --word-diff=porcelain &quot;@{$j days ago}&quot; &quot;@{$i days ago}&quot;  -- &quot;***.md&quot;| Select-String -Pattern &quot;^-.*&quot; | Measure-Object -word | select -ExpandProperty Words)) }</code></pre>",
  {
    "lastFetched": "634",
    "children": "635",
    "reply-count": 0,
    "like-count": 0,
    "repost-count": 0
  },
  "2022-03-29T02:25:48.586Z",
  ["636", "637", "638", "639", "640"],
  "https://www.github.com/gijswijs",
  "github",
  "Github",
  "https://www.linkedin.com/in/gijsvandam/",
  "linkedin",
  "LinkedIn",
  "https://www.researchgate.net/profile/Gijs_Van_Dam2",
  "researchgate",
  "ResearchGate",
  "https://bitcoinhackers.org/@gijswijs",
  "mastodon",
  "Mastodon",
  "https://www.twitter.com/gijswijs",
  "twitter",
  "Twitter",
  "/feed",
  "Stream",
  "feed",
  "_self",
  "/rss.xml",
  "rss",
  "RSS",
  "",
  "https://keybase.io/gijsvandam",
  "keybase",
  "Keybase",
  "https://orcid.org/0000-0002-6188-6859",
  "orcid",
  "ORCID",
  "https://scholar.google.com/citations?user=4dTcK4kAAAAJ&hl=en",
  "Google Scholar",
  "Home",
  ["641"],
  { "mode": 100644 },
  "home",
  "Research",
  "miksa/page.njk",
  ["641"],
  "<h2 id=\"papers\">Papers</h2>\n<table>\n<thead>\n<tr>\n<th>year</th>\n<th>paper</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2022</td>\n<td>van Dam, G. &amp; Kadir, R. A. (2022). Hiding Payments in Lightning Network with Approximate Differentially Private Payment Channels, in Computers &amp; Security, 2022 (in press)</td>\n</tr>\n<tr>\n<td>2020</td>\n<td><a name=\"vandam2020\"></a>van Dam G., Kadir R.A., Nohuddin P.N.E., Zaman H.B. (2020) Improvements of the Balance Discovery Attack on Lightning Network Payment Channels. In: H&ouml;lbl M., Rannenberg K., Welzer T. (eds) ICT Systems Security and Privacy Protection. SEC 2020. IFIP Advances in Information and Communication Technology, vol 580. Springer, Cham. <a href=\"https://doi.org/10.1007/978-3-030-58201-2_21\">https://doi.org/10.1007/978-3-030-58201-2_21</a></td>\n</tr>\n</tbody></table>\n<h2 id=\"preprints\">Preprints</h2>\n<table>\n<thead>\n<tr>\n<th>year</th>\n<th>paper</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2019</td>\n<td>van Dam, G., Kadir, R. A., Nohuddin, P. N. E., &amp; Zaman, H. B. (2019). Improvements of the Balance Discovery Attack on Lightning Network Payment Channels. Cryptology ePrint Archive, Report 2019/1385. <a href=\"https://ia.cr/2019/1385\">https://ia.cr/2019/1385</a> (<a href=\"#vandam2020\">peer reviewed version</a>)</td>\n</tr>\n</tbody></table>\n<h2 id=\"talks\">Talks</h2>\n<table>\n<thead>\n<tr>\n<th>year</th>\n<th>talk</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2021</td>\n<td>Differential private payment channels in Lightning Network, Bitcoin Sydney Socratic Seminar (<a href=\"https://rumble.com/vl31wc-differentially-private-payment-channels.html\">video</a>)</td>\n</tr>\n<tr>\n<td>2021</td>\n<td>Privacy and Security Risks in the Lightning Network, National University of Singapore</td>\n</tr>\n<tr>\n<td>2020</td>\n<td>Improvements of the Balance Discovery Attack on Lightning Network Payment Channels, IFIP Information Security Conference &amp; Privacy Conference</td>\n</tr>\n<tr>\n<td>2018</td>\n<td>Analyzing Behavioral Heuristics of Pseudo Anonymity, Blockchain Developers Malaysia Meetup</td>\n</tr>\n</tbody></table>\n<h2 id=\"activities\">Activities</h2>\n<table>\n<thead>\n<tr>\n<th>year</th>\n<th>activity</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2021</td>\n<td>Master of Ceremonies at the 1st International Postgraduate Seminar on Industrial Revolution 4.0 (IPSIR4.0)</td>\n</tr>\n<tr>\n<td>2019</td>\n<td>Liaison, 6th International Visual Informatics Conference (IVIC&#39;19)</td>\n</tr>\n<tr>\n<td>2018</td>\n<td>Committee Member, 4th Visual Informatics International Seminar (VIIS2018)</td>\n</tr>\n<tr>\n<td>2017 - present</td>\n<td><a href=\"https://www.meetup.com/blockchain-developers-malaysia\">Blockchain Developers Malaysia Meetup</a></td>\n</tr>\n</tbody></table>\n<h2 id=\"white-papers\">White papers</h2>\n<table>\n<thead>\n<tr>\n<th>year</th>\n<th>white paper</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2014</td>\n<td>Beentjes, R., van Dam, G., Vlap, A. van Vlijmen &amp; J., te Wierik, B. <a href=\"/documents/Whitepaper-e-commerce.pdf\">Your company future-proof with ecommerce (dutch)</a></td>\n</tr>\n</tbody></table>\n<h2 id=\"grants\">Grants</h2>\n<table>\n<thead>\n<tr>\n<th>year</th>\n<th>white paper</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2020</td>\n<td>Beneficiary of student grant for the Financial Cryptography and Data Security International Conference 2020, Kota Kinabalu, Sabah, Malaysia</td>\n</tr>\n</tbody></table>\n",
  { "mode": 100644 },
  "research",
  "Open Source",
  ["641"],
  "<h2 id=\"janos\">Janos</h2>\n<p><a href=\"https://neumannjs.github.io/Janos-starter/\">Janos</a> is a static site generator that runs entirely in the browser. It uses <a href=\"https://metalsmith.io/\">Metalsmith</a> with a bit of <a href=\"https://webpack.js.org/\">Webpack</a> magic sprinkled on top, to make it all work inside a browser. It is tightly integrated with GitHub to automatically host your site, using GitHub pages. But you don&#39;t have to know all those techniques; everybody can work with Janos without knowing all the ins and outs of those technologies.</p>\n<p>The site you are currently reading is built with Janos.</p>\n<p>You can start your own Janos site by going to the <a href=\"/admin\">admin</a> of this site or any other Janos website, and completing the wizard for creating your own website. The only thing you need is a GitHub account, which you can create for free.</p>\n<p>Every Janos site can be a starting point for creating a new Janos site. You can check out the <a href=\"https://github.com/neumannjs/Janos\">Janos repo</a> on Github and I sometimes write <a href=\"/topics/janos/\">posts on Janos</a> on this website.</p>\n<h2 id=\"boilerplate-paper\">Boilerplate paper</h2>\n<p><a href=\"https://github.com/neumannjs/boilerplate-paper\">Boilerplate paper</a> is a tool for creating scientific papers, posters and slideshows in Markdown and convert them to different formats like Pdf, Word, PowerPoint or Html. All the converting is done using Pandoc. Pandoc is open-source software created to convert documents from one format to another. Apart from Pandoc, there is more software required to be installed on your computer to make everything work. Getting all this software to work can be a bit overwhelming if you are new to this. That&#39;s why Boilerplate Paper comes with three Github Actions preconfigured. These Github Actions are automated workflows that convert your Markdown files into your final document using the Github servers. That way you can dip your toe in the water to see if writing papers like this works for you. If it does, you can install the prerequisite software on your local computer and experience the benefits of all the features Boilerplate Paper offers.</p>\n<p>You can check out the <a href=\"https://github.com/neumannjs/boilerplate-paper\">Boilerplate paper</a> on Github and I sometimes write <a href=\"/topics/boilerplate-paper/\">posts on Boilerplate paper</a> on this website.</p>\n",
  { "mode": 100644 },
  "open-source",
  "Ventures",
  ["641"],
  "<h2 id=\"mindbus\">Mindbus</h2>\n<p><a href=\"https://mindbus.nl\">Mindbus</a> is a web agency founded in 2002. A general web agency throughout its first years, Mindbus pivotted to a specific niche 2014 when it started its e-commerce platform for brick &amp; mortar book stores. Now in 2021 Mindbus almost exclusively serves bookstores in The Netherlands and Flanders. Almost 20% of the Dutch bookstores use the platform, and more than 8% of the Dutch online consumer book market runs over this platform.</p>\n<h2 id=\"doefiets\">Doefiets</h2>\n<p>Doefiets (Dutch for <em>do cycle</em>) was a community for cyclists founded in 2012. It featured articles on training and training schedules and had specific training schedules geared towards famous European cyclo&#39;s like <em>La Marmotte</em>. The website included a webshop that offered cycling gear. The community failed to garner enough traction and was shuttered in 2018 after exploratory talks with the Royal Dutch Cyclist Union (KNWU) about collaborating amounted to nothing tangible.</p>\n<h2 id=\"uwebshop\">uWebshop</h2>\n<p>uWebshop was a spin-off of Mindbus in 2011/2012 and offered a package for the .Net CMS <em>Umbraco</em>. With this package you could easily set up your own webshop within the Umbraco CMS. The company failed to become profitable and was shut down in 2015.</p>\n",
  { "mode": 100644 },
  "ventures",
  "Resume",
  ["641"],
  "<h2 id=\"professional-experience\">Professional experience</h2>\n<table>\n<thead>\n<tr>\n<th>year</th>\n<th>position</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2017-present</td>\n<td>Freelance IT consultant, Kuala Lumpur, Malaysia</td>\n</tr>\n<tr>\n<td>2002-present</td>\n<td>Founder/Owner, Mindbus Webdevelopment, Leiden, The Netherlands/Lisbon, Portugal</td>\n</tr>\n<tr>\n<td>2000-2002</td>\n<td>Project Manager, Valoris, The Hague, The Netherlands/Antwerp, Belgium</td>\n</tr>\n<tr>\n<td>2000-2000</td>\n<td>Web Developer, Websilon, The Hague, The Netherlands</td>\n</tr>\n<tr>\n<td>1999-2000</td>\n<td>Web Developer, Matchcare, Utrecht, The Netherlands</td>\n</tr>\n<tr>\n<td>1997-2000</td>\n<td>Web Master, Faculty of Veterinary Science, Utrecht University, The Netherlands</td>\n</tr>\n</tbody></table>\n<h2 id=\"education\">Education</h2>\n<table>\n<thead>\n<tr>\n<th>year</th>\n<th>education</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2018-present</td>\n<td>PhD Computer Science, National University of Malaysia, Institute of IR 4.0, Malaysia (ongoing)</td>\n</tr>\n<tr>\n<td>1995-2000</td>\n<td>MSc Veterinary Science, Utrecht University, The Netherlands</td>\n</tr>\n</tbody></table>\n<h2 id=\"publications--whitepapers\">Publications &amp; Whitepapers</h2>\n<table>\n<thead>\n<tr>\n<th>year</th>\n<th>publication</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2022</td>\n<td>van Dam, G. &amp; Kadir, R. A. (2022). Hiding Payments in Lightning Network with Approximate Differentially Private Payment Channels, in Computers &amp; Security, 2022 (in press)</td>\n</tr>\n<tr>\n<td>2020</td>\n<td>van Dam, G., Kadir, R. A., Nohuddin, P. N. E., &amp; Zaman, H. B. (2020). Improvements of the Balance Discovery Attack on Lightning Network Payment Channels (pp. 313-323). <a href=\"https://doi.org/10.1007/978-3-030-58201-2_21\">https://doi.org/10.1007/978-3-030-58201-2_21</a></td>\n</tr>\n<tr>\n<td>2014</td>\n<td>Whitepaper: Your company future-proof with ecommerce (dutch)</td>\n</tr>\n</tbody></table>\n<h2 id=\"training--certification\">Training &amp; Certification</h2>\n<table>\n<thead>\n<tr>\n<th>year</th>\n<th>training/certification</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2021</td>\n<td>Lightning Network Seminar Series, Chaincode Labs, New York (online)</td>\n</tr>\n<tr>\n<td>2021</td>\n<td>An Introduction To Probability In Computing, IIT Madras (online)</td>\n</tr>\n<tr>\n<td>2020</td>\n<td>iFintell workshop series: R language, Python, STATA &amp; MATLAB, Big Data analytics, AI &amp; ML</td>\n</tr>\n<tr>\n<td>2018</td>\n<td>Workshop Microsoft Azure, Jupyter Notebook and R</td>\n</tr>\n<tr>\n<td>2017</td>\n<td>EASP Workshop Multi-level Modelling, University of Nottingham Malaysia</td>\n</tr>\n<tr>\n<td>2012-2013</td>\n<td>Fast Forward Entrepreneurial Development, ScaleUp Company</td>\n</tr>\n<tr>\n<td>2010</td>\n<td>Google Analytics Individual Qualification</td>\n</tr>\n<tr>\n<td>2006</td>\n<td>Designing and Implementing Databases with Microsoft SQL Server 2000 Enterprise Edition</td>\n</tr>\n<tr>\n<td>2004</td>\n<td>PRINCE2 Foundation</td>\n</tr>\n<tr>\n<td>2002</td>\n<td>Designing and Implementing Data Warehouses with Microsoft SQL Server 7.0</td>\n</tr>\n<tr>\n<td>2001</td>\n<td>Valoris High Potential program, Developing managerial skills</td>\n</tr>\n</tbody></table>\n",
  { "mode": 100644 },
  "resume",
  "About me",
  ["641"],
  "About",
  "<p>Researcher, developer and business founder in no particular order.</p>\n<p>I live in Malaysia. For all intents and purposes you could say I live in the amazing city of Kuala Lumpur, but that would rub the real KLites in the wrong way, since I don&#39;t live in the city proper.</p>\n<p>Before that I lived in Amsterdam.</p>\n<h2 id=\"background\">Background</h2>\n<p>It is a bit of a mixed bag. I have a master&#39;s degree in veterinary science. I have never worked (and wouldn&#39;t be allowed to work) as a veterinarian, since I never did a residency and that&#39;s a requirement for a license to practice veterinarian medicin. By now it has been so long since I finished my studies that I have a hard time telling apart cats and dogs nowadays.</p>\n<p>I was always a computer nerd, and from 1995 onwards focussed on web development in my spare time. While finishing my studies, I started to work full-time for a web company in 1999. I enjoyed the peak of the dot-com bubble, and also the bursting. When my then-employer went bankrupt I thought it smart to start my own web development company, called Mindbus. This was in 2002. That company has been my sole source of income since then. At it&#39;s peak we had shy of 30 people working for Mindbus. Untill 2020 we had two offices, one in the city of Leiden, the Netherlands, and another in the city of Lisbon, Portugal. Currently Mindbus is a nimble company with one office (the one in Leiden) and a distributed team of people. We mainly work on this e-commerce platform that we developed for brick-and-mortar book stores. It&#39;s allowing Dutch book stores to be like the indomitable Gauls holding out against the invaders. But this time the invaders aren&#39;t the Romans, but Amazon and (only known in The Netherlands) Bol.</p>\n<p>We moved to Malaysia in January 2017. My wife and I always had this dream of living in a foreign country for a few years. So when she could get a job as an assistant professor at a Malaysian university we didn&#39;t have to think twice about it. We moved with our kids, then 5 months and 4 years old.</p>\n<p>In an unexpected way moving to Malaysia opened up the opportunity to make a career switch. I wasn&#39;t spending as much time on Mindbus anymore (and it thrived, so I am not sure what that says about my involvement) and the cost of living was such that I could afford to do a full-time PhD at the National University of Malaysia. So that&#39;s what I am doing now: A PhD in computer science. My research is on privacy in the context of second layer cryptocurrency solutions.</p>\n<p>In my spare time I work on two open source projects. One is a fork of the static site generator Metalsmith, called <a href=\"https://neumannjs.github.io/Janos-starter/\">Jonas</a>, that runs entirely in the browser. The site you are currently looking at is built with Jonas. The other is a tool to easily make papers, posters and presentations in LaTeX, using markdown and Pandoc. It is called <a href=\"https://github.com/neumannjs/boilerplate-paper\">Boilerplate Paper</a>. Both projects are a long way from a 1.0 release, but in the spirit of eating your own dog food, I use them both extensively.</p>\n",
  { "mode": 100644 },
  "about",
  "What am I doing now?",
  ["641"],
  "Now",
  "now",
  "<p>Right now I&#39;m focusing on finishing my PhD. This still requires writing and publishing an article, and distill the last three years of research in a thesis. I hope to submit my thesis in Q1 or Q2 of 2022, and then start planning the move back to Amsterdam. But everything depends on finding nice work for both me and my wife. There is no reason to go back for a shitty job. Life here is way to good for that.</p>\n<p>Since the lockdown measures are now slowly being lifted here in the Klang valley, I can finally do some sports again. The swimming pool near our condo just opened up again. They also have a small gym there. I am not much of a gym-person, but I promised myself to check out the equipment.</p>\n<p>The one thing that I hope for is that schools open up soon. Out of the past 18 months my kids&#39; school has been closed for 14 to 15 months. And having two young children around isn&#39;t conducive for research. And it is definitely not conducive for the social development of my kids. But arguments like that carry no weight at all here in Malaysia.</p>\n<p>I would like to learn <a href=\"https://www.rust-lang.org/\">Rust</a>, and more specifically <a href=\"https://learn.sapio-lang.org/\">Sapio</a>, which is a way of creating smart Bitcoin contracts in Rust. Sapio is a &quot;port&quot; and an extension of Peter Wuille&#39;s <a href=\"http://bitcoin.sipa.be/miniscript/\">Miniscript</a> built in Rust. But for now this has to go on the back burner, because I need to turn all my attention to finishing my thesis. I need to curb any tendency to procrastinate in the next few months.</p>\n<p>Updated: October 2021</p>\n",
  { "mode": 100644 },
  "Contact",
  ["641"],
  "<p>By <em>far</em> the best method to contact me is sending a mail to&nbsp;<script>a='gvandam'; b='mail'; c='.com'\ndocument.write('<A hre'+'f=\"mai'+'lto:'+a+'@g'+b+c+'\">');\ndocument.write(a+'@g'+b+c+'</a>');\n</script></p>\n<p>If you want to follow me, you can check out my social media accounts in the footer below.</p>\n",
  { "mode": 100644 },
  "contact",
  ["642", "643", "644"],
  ["623"],
  { "mode": 100644 },
  ["112"],
  ["645", "646"],
  { "mode": 100644 },
  ["112"],
  ["647", "648", "649"],
  { "mode": 100644 },
  ["112"],
  "Pandoc-filter for highlighting to-dos in LaTeX output",
  "2021-02-23T00:00:00.000Z",
  ["650", "651", "652", "653"],
  "<p>While writing my papers I try not to get bogged down too much. So if a paragraph doens&#39;t flow right I just type <code>TODO: rewrite</code> on the line below it, and continue writing. When I think of something that I shouldn&#39;t forget, like an extra analysis to run I just write it down as a todo in the running text of my paper. I also write thoughts on my paper as a todo. Ideas on structure, whether I should maybe rearrange paragraphs or approach a subject differently, it all ends up as a todo in the running text.</p>\n<p>When running the VSCode task for converting my paper to PDF (using Pandoc) it puts all the todos into the running text. That&#39;s fine by me, it helps as an extra reminder that stuff still needs to happen. But I wanted the todos to be visually different from the running text, so that it stands apart and doesn&#39;t confuse people who are reading my draft. That is where my Pandoc filter comes into play.</p>\n<!-- more -->\n<p>While working inside VSCode I keep track off all todo&#39;s with the <a href=\"https://marketplace.visualstudio.com/items?itemName=Gruntfuggly.todo-tree\">Todo Tree</a> extension. This extension searches your workspace for comment tags like TODO and FIXME, and displays them in a tree view in the explorer pane.</p>\n<p><picture><source srcSet=\"/images/todo-tree_s.avif 461w,/images/todo-tree_m.avif 692w,/images/todo-tree_l.avif 922w\" type=\"image/avif\"/><source srcSet=\"/images/todo-tree_s.webp 461w,/images/todo-tree_m.webp 692w,/images/todo-tree_l.webp 922w\" type=\"image/webp\"/><img srcSet=\"/images/todo-tree_s.jpg 461w,/images/todo-tree_m.jpg 692w,/images/todo-tree_l.jpg 922w\" src=\"/images/todo-tree_s.jpg\" alt=\"Todo Tree in VSCode\" title=\"/images/todo-tree.jpg\" loading=\"lazy\" decoding=\"async\" width=\"922\" height=\"480\"/><figcaption>/images/todo-tree.jpg</figcaption></picture></p>\n<p>But to keep track of the todo&#39;s when the paper is converted to PDF I created a Pandoc filter that highlights all comments in LaTeX output formats. It is really simple:</p>\n<pre><code class=\"language-lua\">if FORMAT:match &#39;latex&#39; then\n    function Para(el)\n        if pandoc.utils.equals(pandoc.Str &#39;TODO:&#39;, el.content[1]) then \n            table.insert(el.content, 1, pandoc.RawInline(&#39;latex&#39;, &#39;\\\\hl{&#39;))\n            table.insert(el.content, pandoc.RawInline(&#39;latex&#39;, &#39;}&#39;))\n        end\n        return el\n    end\nend</code></pre>\n<p>The only prerequisite is that you put the <code>soul</code> package in the preamble of your LaTeX, because that is the package used for the highlighting. So somewhere in your preamble you should put this:</p>\n<pre><code class=\"language-latex\">\\usepackage{soul}</code></pre>\n<p>Now, if you output the paper, the todos are highlighted.</p>\n<p><picture><source srcSet=\"/images/todo-in-pdf_s.avif 540w,/images/todo-in-pdf_m.avif 810w,/images/todo-in-pdf_l.avif 1080w\" type=\"image/avif\"/><source srcSet=\"/images/todo-in-pdf_s.webp 540w,/images/todo-in-pdf_m.webp 810w,/images/todo-in-pdf_l.webp 1080w\" type=\"image/webp\"/><img srcSet=\"/images/todo-in-pdf_s.jpg 540w,/images/todo-in-pdf_m.jpg 810w,/images/todo-in-pdf_l.jpg 1080w\" src=\"/images/todo-in-pdf_s.jpg\" alt=\"Todo in LaTeX PDF output\" title=\"Todo in LaTeX PDF output\" loading=\"lazy\" decoding=\"async\" width=\"1080\" height=\"270\"/><figcaption>Todo in LaTeX PDF output</figcaption></picture></p>\n",
  { "mode": 100644 },
  "post/pandoc-filter-for-highlighting-to-dos-in-latex-output",
  ["112"],
  "<p>While writing my papers I try not to get bogged down too much. So if a paragraph doens&#39;t flow right I just type <code>TODO: rewrite</code> on the line below it, and continue writing. When I think of something that I shouldn&#39;t forget, like an extra analysis to run I just write it down as a todo in the running text of my paper. I also write thoughts on my paper as a todo. Ideas on structure, whether I should maybe rearrange paragraphs or approach a subject differently, it all ends up as a todo in the running text.</p>\n<p>When running the VSCode task for converting my paper to PDF (using Pandoc) it puts all the todos into the running text. That&#39;s fine by me, it helps as an extra reminder that stuff still needs to happen. But I wanted the todos to be visually different from the running text, so that it stands apart and doesn&#39;t confuse people who are reading my draft. That is where my Pandoc filter comes into play.</p>",
  "Super easy tip for slide animation with Pandoc and reveal.js",
  "2021-02-15T00:00:00.000Z",
  ["654", "655", "656"],
  "<p>I found this super easy alternative way to animate your slides with reveal.js that works out of the box with Markdown and Pandoc. Here is how to do it.</p>\n<p>Last week I had to give a progress presentation about the current state of my PhD, and I can whip those up in no time. I use <a href=\"https://github.com/neumannjs/boilerplate-paper\">Boilerplate Paper</a> not only for writing my papers, but also for presentations like this.</p>\n<p>I write the presentation in Markdown and then convert it to <a href=\"https://revealjs.com\">reveal.js</a>. But sometimes you want something else than the default sliding transition that reveal.js provides.</p>\n<!-- more -->\n<p><picture><img src=\"/images/default-sliding.gif\" alt=\"Default sliding transition in reveal.js\" title=\"Default sliding transition in reveal.js\" loading=\"lazy\" decoding=\"async\" width=\"1000\" height=\"704\"/><figcaption>Default sliding transition in reveal.js</figcaption></picture></p>\n<p>Reveal.js got you covered with <a href=\"https://revealjs.com/auto-animate/\">auto-animate</a>. It&#39;s a feature that automatically finds matching elements between two slides and animates between them. It&#39;s nothing too fancy and for me it perfectly fits the job at hand. All you need to do is add <code>data-auto-animate</code> to two adjacent slide <code>&lt;section&gt;</code> elements.</p>\n<p>And the beautiful thing is, it works out of the box with Pandoc slides using heading attributes. In Pandoc headings can be assigned attributes at the end of the heading line.</p>\n<pre><code>{#identifier .class key=value}</code></pre><p>In this case we are going to use the key/value attribute to add <code>data-auto-animate</code> to the reveal.js section. Just add <code>{data-auto-animate=}</code> (it needs only the key and no value, but it requires the <code>=</code>) to the end of the slide title, like so:</p>\n<pre><code>## Slide 1 {data-auto-animate=}\n\nSlide 1 content\n\n## Slide 2 {data-auto-animate=}\n\nSlide 2 content</code></pre><p>And that&#39;s it! Once you convert your Markdown into reveal.js the slides are now animated using auto-animate.</p>\n<p><picture><img src=\"/images/auto-animate.gif\" alt=\"Auto-animate transition in reveal.js\" title=\"Auto-animate transition in reveal.js\" loading=\"lazy\" decoding=\"async\" width=\"1000\" height=\"704\"/><figcaption>Auto-animate transition in reveal.js</figcaption></picture></p>\n",
  { "mode": 100644 },
  "post/super-easy-tip-for-slide-animation-with-pandoc-and-reveal.js",
  ["112"],
  "<p>I found this super easy alternative way to animate your slides with reveal.js that works out of the box with Markdown and Pandoc. Here is how to do it.</p>\n<p>Last week I had to give a progress presentation about the current state of my PhD, and I can whip those up in no time. I use <a href=\"https://github.com/neumannjs/boilerplate-paper\">Boilerplate Paper</a> not only for writing my papers, but also for presentations like this.</p>\n<p>I write the presentation in Markdown and then convert it to <a href=\"https://revealjs.com\">reveal.js</a>. But sometimes you want something else than the default sliding transition that reveal.js provides.</p>",
  "Running c-lightning in Simverse with plugins",
  "2020-12-02T00:00:00.000Z",
  ["657", "658"],
  "<p>The goal is to run c-lightning with plugins in a local testing cluster. For my cluster I use <a href=\"https://github.com/darwin/simverse\">Simverse</a>.\nSimverse allows for additional command line arguments to be passed to <code>lightningd</code>, so it should be possible to run <code>lightningd</code> with the <code>plugin</code> argument.</p>\n<p>Let&#39;s first clone our plugin. We will be using one of the plugins that are available through Lightningd on Github.</p>\n<pre><code>cd ~\\simverse\\_repos\ngit clone https://github.com/lightningd/plugins.git --depth 1</code></pre><p>We put the plugin in the <code>_repos</code> folder, because it is assumed that the plugin is there when the cluster is being build. (Also: throughout this article we assume your simverse folder is inside your home folder. If that is not the case, adjust it accordingly)</p>\n<p>Since all nodes in Simverse run inside Docker containers, that plugin-file should be made available inside the Docker context folder. The <code>_repos</code> folder is not part of that context (each container gets its own context) so we have to copy the file from the <code>_repos</code> folder to the Docker context folder. Luckily Simverse works with the concept of recipes. A recipe describes how your cluster should look like. A recipe is a bash script that uses a library called cookbook that can be used to build your cluster step-by-step. Since it is &quot;just&quot; a bash script, you can do anything bash can do to tweak your cluster.</p>\n<p>We will create a recipe that creates a cluster with three c-lightning nodes, running on a bitcoind back-end. </p>\n<!-- more -->\n<h2 id=\"simverse-recipe\">Simverse Recipe</h2>\n<pre><code class=\"language-bash\">#!/usr/bin/env bash\n\n. cookbook/cookbook.sh\n\nprelude\n\nadd bitcoind\n\nLIGHTNINGD_EXTRA_PARAMS=&#39;--plugin=/home/simnet/.lightning/plugins/jitrebalance.py&#39;\n\nadd lightningd alice\ncp -r &quot;$SIMVERSE_REPOS/plugins/jitrebalance&quot; &quot;$SIMVERSE_WORKSPACE/$SIMNET_NAME/_volumes/lightning-data-alice/plugins&quot;\n\nadd lightningd bob\ncp -r &quot;$SIMVERSE_REPOS/plugins/jitrebalance&quot; &quot;$SIMVERSE_WORKSPACE/$SIMNET_NAME/_volumes/lightning-data-bob/plugins&quot;\n\nadd lightningd charlie\ncp -r &quot;$SIMVERSE_REPOS/plugins/jitrebalance&quot; &quot;$SIMVERSE_WORKSPACE/$SIMNET_NAME/_volumes/lightning-data-charlie/plugins&quot;\n\n\n# generate init script to build connections\ncat &gt; init &lt;&lt;EOF\n#!/usr/bin/env bash\n\nset -e -o pipefail\n\n# connect LN nodes\nconnect alice charlie\nconnect charlie bob\nconnect bob alice\nEOF\nchmod +x init</code></pre>\n<p>What is happening here? First we import the <code>cookbook</code> library. <code>prelude</code> does all the preliminary stuff needed for every cluster. After this we can start adding our back-end and our Lighning nodes. <code>add bitcoind</code> adds the bitoind node (duh!). Before we add our c-lightning nodes we set the <code>LIGHTNINGD_EXTRA_PARAMS</code> variable. This variable is passed to <code>lightningd</code> when starting up the Docker container. We use it to set the <code>plugin</code> argument.</p>\n<p>We can now add our first lightning node, called &quot;alice&quot;: <code>add lightningd alice</code>\nAfter this we can copy our plugin to the Docker context folder with the following command:</p>\n<pre><code class=\"language-bash\">cp -r &quot;$SIMVERSE_REPOS/plugins/jitrebalance&quot; &quot;$SIMVERSE_WORKSPACE/$SIMNET_NAME/_volumes/lightning-data-alice/plugins&quot;</code></pre>\n<p>We use several variables that may require some explanation. <code>$SIMVERSE_REPOS</code> holds the folder containing the Simverse repos. Since we have cloned our plugins repo into that folder, we can find it there. <code>$SIMVERSE_WORKSPACE</code> holds the folder where Simverse stores all the files required for creating a cluster. <code>$SIMNET_NAME</code> holds the name of the cluster. When we create a cluster based on this recipe, we also have to give that cluster a name. That name is available through the <code>$SIMNET_NAME</code> variable. The rest of theDocker context folder follows a simple naming convention: <code>_volumes/[node type]-[node name]</code></p>\n<p>We do the same thing for Bob and Charlie.</p>\n<p>The last part of our recipe can be left out if you want. It generates an initialization script that can be run after creating the cluster. In this case it connects the nodes, but you can also use it to fund nodes and make transactions, build multiple scripts and what not. It just shows how versatile Simverse is.</p>\n<p>We can save our recipe. There are some simple naming conventions that you can follow that make easy to see what kind of back-end(s) and nodes this cluster uses:</p>\n<ul>\n<li><code>a</code>: bitcoind</li>\n<li><code>b</code>: btcd</li>\n<li><code>k</code>: lightningd</li>\n<li><code>l</code>: lnd</li>\n<li><code>m</code>: eclair</li>\n</ul>\n<p>So <code>a1k3</code> reads as &quot;one bitcoind node and two c-lightning nodes&quot;. You should use a postfix to identify any additional distinguishing features of the recipe. So in this case we save our recipe as <code>a1k3-plugin.sh</code> in the recipe folder of Simverse located at <code>~/simverse/recipes</code>.</p>\n<h2 id=\"building-your-cluster\">Building your cluster</h2>\n<p>With our recipe out of the way we can create our cluster.</p>\n<pre><code class=\"language-bash\">cd ~/simverse\n./sv create a1k3-plugin jitrebalance\n./sv enter jitrebalance\n./dc build\n./dc up</code></pre>\n<p>We have created a cluster named <code>jitrebalance</code>. This is the name of the cluster that we referenced in our recipe through the variable <code>$SIMNET_NAME</code>. Our cluster is based on the recipe <code>a1k3-plugin.sh</code> that we just created. With <code>enter</code> you enter your newly created simnet.</p>\n<p><code>./dc</code> is a handy shorthand for <code>docker-compose</code> with some important variables set. With <code>build</code> we build our Docker containers based on the <code>docker-compose.yml</code> that has been generated for us. And then we are ready to run the containers with <code>up</code>.</p>\n<p>You should see something like this:</p>\n<p><picture><source srcSet=\"/images/simverse-up_s.avif 540w,/images/simverse-up_m.avif 810w,/images/simverse-up_l.avif 1080w\" type=\"image/avif\"/><source srcSet=\"/images/simverse-up_s.webp 540w,/images/simverse-up_m.webp 810w,/images/simverse-up_l.webp 1080w\" type=\"image/webp\"/><img srcSet=\"/images/simverse-up_s.jpg 540w,/images/simverse-up_m.jpg 810w,/images/simverse-up_l.jpg 1080w\" src=\"/images/simverse-up_s.jpg\" alt=\"running Simverse\" title=\"Running a Simverse cluster\" loading=\"lazy\" decoding=\"async\" width=\"1080\" height=\"610\"/><figcaption>Running a Simverse cluster</figcaption></picture></p>\n<p>Now in a separate terminal session you can access your nodes and run the <code>init</code> script.</p>\n<pre><code class=\"language-bash\">cd ~/simverse\n./sv enter jitrebalance\n./init</code></pre>\n<p><picture><source srcSet=\"/images/simverse-init_s.avif 540w,/images/simverse-init_m.avif 810w,/images/simverse-init_l.avif 1080w\" type=\"image/avif\"/><source srcSet=\"/images/simverse-init_s.webp 540w,/images/simverse-init_m.webp 810w,/images/simverse-init_l.webp 1080w\" type=\"image/webp\"/><img srcSet=\"/images/simverse-init_s.jpg 540w,/images/simverse-init_m.jpg 810w,/images/simverse-init_l.jpg 1080w\" src=\"/images/simverse-init_s.jpg\" alt=\"running init\" title=\"Running the initialization script\" loading=\"lazy\" decoding=\"async\" width=\"1080\" height=\"410\"/><figcaption>Running the initialization script</figcaption></picture></p>\n<p>And with that you are done! You have now a Simverse cluster with three c-lightning nodes running the same plugin.</p>\n",
  { "mode": 100644 },
  "post/running-c-lightning-in-simverse-with-plugins",
  ["112"],
  "<p>The goal is to run c-lightning with plugins in a local testing cluster. For my cluster I use <a href=\"https://github.com/darwin/simverse\">Simverse</a>.\nSimverse allows for additional command line arguments to be passed to <code>lightningd</code>, so it should be possible to run <code>lightningd</code> with the <code>plugin</code> argument.</p>\n<p>Let&#39;s first clone our plugin. We will be using one of the plugins that are available through Lightningd on Github.</p>\n<pre><code>cd ~\\simverse\\_repos\ngit clone https://github.com/lightningd/plugins.git --depth 1</code></pre><p>We put the plugin in the <code>_repos</code> folder, because it is assumed that the plugin is there when the cluster is being build. (Also: throughout this article we assume your simverse folder is inside your home folder. If that is not the case, adjust it accordingly)</p>\n<p>Since all nodes in Simverse run inside Docker containers, that plugin-file should be made available inside the Docker context folder. The <code>_repos</code> folder is not part of that context (each container gets its own context) so we have to copy the file from the <code>_repos</code> folder to the Docker context folder. Luckily Simverse works with the concept of recipes. A recipe describes how your cluster should look like. A recipe is a bash script that uses a library called cookbook that can be used to build your cluster step-by-step. Since it is &quot;just&quot; a bash script, you can do anything bash can do to tweak your cluster.</p>\n<p>We will create a recipe that creates a cluster with three c-lightning nodes, running on a bitcoind back-end. </p>",
  "SSH keybased authentication Windows to Linux",
  "2020-11-20T00:00:00.000Z",
  ["659", "660"],
  "<p>I do most of my development on a remote machine. The machine isn&#39;t <em>that</em> remote, it&#39;s a mini-pc running Ubuntu that is standing right here on my desk. It has no peripherals, so I have to do all my development remotely through my Windows 10 laptop.</p>\n<p>Remote development with Vscode is amazing. It just works. Once you are set up, there&#39;s no difference with working locally. To have that seamless experience you do have to set up keybased authentication for SSH. If you don&#39;t you will be constantly reminded of working remotely, because you have to type in the password of the remote machine.</p>\n<!-- more -->\n<p>Configuring keybased authentication is <a href=\"https://code.visualstudio.com/docs/remote/troubleshooting#_configuring-key-based-authentication\">documented</a>, but yesterday I had to go through it again, and it confused me...again. So this is my go at explaining it less confusing for the specific case of working on a <em>local Windows machine</em> and connecting to a <em>remote Linux machine</em>. So open up that PowerShell and let&#39;s start.</p>\n<p>Install the OpenSSH client if you haven&#39;t already. It is a optional feature of Windows 10. Search for &#39;Manage Optional Features&#39; in the Windows Start Menu and click on it. Scan the list to see if OpenSSH client is already installed. If not, then do so by clicking on &quot;Add a feature&quot;.</p>\n<p>If you haven&#39;t got a local SSH key pair, you should create one.</p>\n<pre><code class=\"language-PowerShell\">ssh-keygen -t rsa -b 4096</code></pre>\n<p>You can accept all defaults and keep the passphrase empty. It will result in a keypair generated in the <code>$HOME\\.ssh\\</code> folder which we will use later.</p>\n<p><picture><source srcSet=\"/images/ssh-keypair_s.avif 474w,/images/ssh-keypair_m.avif 711w,/images/ssh-keypair_l.avif 948w\" type=\"image/avif\"/><source srcSet=\"/images/ssh-keypair_s.webp 474w,/images/ssh-keypair_m.webp 711w,/images/ssh-keypair_l.webp 948w\" type=\"image/webp\"/><img srcSet=\"/images/ssh-keypair_s.jpg 474w,/images/ssh-keypair_m.jpg 711w,/images/ssh-keypair_l.jpg 948w\" src=\"/images/ssh-keypair_s.jpg\" alt=\"Create your local SSH key pair\" title=\"Create your local SSH key pair\" loading=\"lazy\" decoding=\"async\" width=\"948\" height=\"622\"/><figcaption>Create your local SSH key pair</figcaption></picture></p>\n<p>You are now ready to add your <em>local</em> key to the autorized keys on your <em>remote</em> machine. Run the following in PowerShell on your <em>local</em> machine.</p>\n<pre><code class=\"language-PowerShell\">$USER_AT_HOST=&quot;your-user-name-on-host@hostname&quot;\n$PUBKEYPATH=&quot;$HOME\\.ssh\\id_rsa.pub&quot;\n\n$pubKey=(Get-Content &quot;$PUBKEYPATH&quot; | Out-String); ssh &quot;$USER_AT_HOST&quot; &quot;mkdir -p ~/.ssh &amp;&amp; chmod 700 ~/.ssh &amp;&amp; echo &#39;${pubKey}&#39; &gt;&gt; ~/.ssh/authorized_keys &amp;&amp; chmod 600 ~/.ssh/authorized_keys&quot;</code></pre>\n<p>And that&#39;s it. You can now SSH into your remote machine without needing a password.</p>\n",
  { "mode": 100644 },
  "post/ssh-keybased-authentication-windows-to-linux",
  ["112"],
  "<p>I do most of my development on a remote machine. The machine isn&#39;t <em>that</em> remote, it&#39;s a mini-pc running Ubuntu that is standing right here on my desk. It has no peripherals, so I have to do all my development remotely through my Windows 10 laptop.</p>\n<p>Remote development with Vscode is amazing. It just works. Once you are set up, there&#39;s no difference with working locally. To have that seamless experience you do have to set up keybased authentication for SSH. If you don&#39;t you will be constantly reminded of working remotely, because you have to type in the password of the remote machine.</p>",
  "Debugging LND while running a local cluster",
  "2020-11-16T00:00:00.000Z",
  ["661", "662", "663"],
  "<p>If you want to debug LND, or if you want to take a real deep dive into LND, you probably want to be able to set breakpoints in the source code to see what is actually happening. Not only that, you also want to have the node run in a local cluster of other nodes, so that you can perform some real Lightning actions like opening a channel and make payments. This post takes you through the setup I use based on <a href=\"https://github.com/go-delve/delve\">Delve</a> and <a href=\"https://github.com/darwin/simverse\">Simverse</a>.</p>\n<!-- more -->\n<h2 id=\"setting-up-a-local-cluster-with-simverse\">Setting up a local cluster with Simverse</h2>\n<p>Simverse is an amazing tool for setting up local Lightning clusters. It uses docker-compose to manage the cluster and supports LND, c-lightning and Eclair nodes with either btcd or bitcoind back-ends. This makes it very easy to set up local clusters of any size, as long as your hardware can handle it. All nodes and back-ends are run in their own docker containers and are spun up on demand following a default recipe or a custom recipe that you can draft up yourself. It literally takes four commands to have a local cluster running with Simverse.</p>\n<p>For our setup we will use a hybrid cluster. There are 3 types of Simverse clusters: Homogenous clusters are Simverse clusters that run either lnd + btcd nodes, eclair + bitcoind nodes or c-lightning + bitcoind nodes. More generally speaking, a homgenous cluster only contains one flavor of back-end and one flavor of Lightning node. The second type of cluster is heterogenous cluster, containing a mix of nodes and back-ends. The third type of cluster is called a hybrid cluster. This is a Simverse cluster (either homogenous or heterogenous) that interacts with an external node that runs directly on the host machine instead of in a docker container. We will use the default Simverse cluster (a homogenous lnd + btcd cluster) and make it hybrid by connecting the LND node that runs the code that we are going to debug.</p>\n<p>Setting up the cluster with Simverse is not within the scope of this article, but the <a href=\"https://github.com/darwin/simverse\">Quickstart</a> of Simverse is all you need to do. That will result in having a cluster with 3 Docker containers, two running LND, and one running a btcd back-end.</p>\n<h2 id=\"building-lnd\">Building LND</h2>\n<p>We need to build de debug version of LND, to be able to do some debugging. I will be using the repo that Simverse automatically cloned. Simverse clones repos into the <code>_repos</code> folder inside the Simverse folder. In my case the Simverse folder is located here: <code>~/simverse/_repos</code>.</p>\n<pre><code>cd ~/simverse/_repos/lnd\nmake build</code></pre><p>The resulting binaries can be found in the repo folder itself: <code>lnd-debug</code> and <code>lncli-debug</code></p>\n<h2 id=\"create-a-lndconf-file\">Create a lnd.conf file</h2>\n<p>Yes, you can start lnd with a bunch of arguments. So there is no real need for a conf-file, but I think it makes it way easier to start LND with a conf-file. You can place your file anywhere, but I find it easy to have them all at a single place, and the most logical place is the default location: <code>~/.lnd/</code>.</p>\n<p>Give it a name that makes it easy to understand that this is a conf file not be used in a production environment, like <code>lnd-test.conf</code>.</p>\n<p>These are the contents of my <code>lnd-test.conf</code>:</p>\n<pre><code>noseedbackup=true\nbitcoin.active=true\nbitcoin.regtest=true\nno-macaroons=true\nbitcoin.node=btcd\nbtcd.rpchost=default_btcd1\nbtcd.rpccert=/home/mini/simverse/_workspace/default/_volumes/certs/rpc.cert\nbtcd.rpcuser=devuser\nbtcd.rpcpass=devpass\ndebuglevel=debug</code></pre><p>What this configuration does is running LND with (completely unsafe) development settings, using the btcd Docker container as the back-end.</p>\n<p>You would have to change <code>btcd.rpcert</code> to the path to the <code>rpc.cert</code> file in your Simverse workspace and you would probably have to change the <code>btcd.rpchost</code> as well. The <code>default_btcd1</code> host pointing to your btcd Docker container is <em>not</em> automatically added to your host file so either you have to add it to your host file or you have to replace it with an IP address. You can find the IP address of the btcd1 docker container of your Simverse cluster, by using the <code>list_docker_ips</code> command that ships with Simverse. (I told you that tool was amazing). An alternative solution is to run this <a href=\"https://github.com/dvddarias/docker-hoster\">extra docker container</a> that automatically updates entries in your hostfile.</p>\n<h2 id=\"installing-delve\">Installing Delve</h2>\n<p>Assuming you have Vscode installed, make sure you have installed the <a href=\"https://marketplace.visualstudio.com/items?itemName=golang.Go\">language support for Go</a> extension.</p>\n<p>Open the Command Palette, select <code>Go: Install/Update Tools</code>, and select <code>dlv</code></p>\n<p><picture><source srcSet=\"/images/install-dlv_s.avif 540w,/images/install-dlv_m.avif 810w,/images/install-dlv_l.avif 1080w\" type=\"image/avif\"/><source srcSet=\"/images/install-dlv_s.webp 540w,/images/install-dlv_m.webp 810w,/images/install-dlv_l.webp 1080w\" type=\"image/webp\"/><img srcSet=\"/images/install-dlv_s.jpg 540w,/images/install-dlv_m.jpg 810w,/images/install-dlv_l.jpg 1080w\" src=\"/images/install-dlv_s.jpg\" alt=\"install dlv\" title=\"Install dlv using the Command Palette\" loading=\"lazy\" decoding=\"async\" width=\"1080\" height=\"142\"/><figcaption>Install dlv using the Command Palette</figcaption></picture></p>\n<h2 id=\"configure-launchjson\">Configure launch.json</h2>\n<p>Open the folder of your LND repo with Vscode and create a launch.json file by selecting the gear icon on the Run view (<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>D</kbd>) top bar.</p>\n<pre><code class=\"language-lang-json\">{\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;name&quot;: &quot;Launch lnd&quot;,\n            &quot;type&quot;: &quot;go&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mode&quot;: &quot;exec&quot;,\n            &quot;program&quot;: &quot;${workspaceFolder}/lnd-debug&quot;,\n            &quot;env&quot;: {},\n            &quot;args&quot;: [&quot;--configfile=~/.lnd/lnd-test.conf&quot;],\n            &quot;showLog&quot;: true\n        }\n    ]\n}</code></pre>\n<p>The args parameter should contain the location of your conf-file.</p>\n<h2 id=\"set-breakpoints\">Set breakpoints</h2>\n<p>Now you are ready to set breakpoints, for instance in the <code>Main</code> function of the <code>lnd</code> package.</p>\n<p><picture><source srcSet=\"/images/set-breakpoint_s.avif 540w,/images/set-breakpoint_m.avif 810w,/images/set-breakpoint_l.avif 1080w\" type=\"image/avif\"/><source srcSet=\"/images/set-breakpoint_s.webp 540w,/images/set-breakpoint_m.webp 810w,/images/set-breakpoint_l.webp 1080w\" type=\"image/webp\"/><img srcSet=\"/images/set-breakpoint_s.jpg 540w,/images/set-breakpoint_m.jpg 810w,/images/set-breakpoint_l.jpg 1080w\" src=\"/images/set-breakpoint_s.jpg\" alt=\"Main function\" title=\"Main function\" loading=\"lazy\" decoding=\"async\" width=\"1080\" height=\"488\"/><figcaption>Main function</figcaption></picture></p>\n<p>If you start debugging, this breakpoint is immediately hit.</p>\n<p><picture><source srcSet=\"/images/hit-breakpoint_s.avif 540w,/images/hit-breakpoint_m.avif 810w,/images/hit-breakpoint_l.avif 1080w\" type=\"image/avif\"/><source srcSet=\"/images/hit-breakpoint_s.webp 540w,/images/hit-breakpoint_m.webp 810w,/images/hit-breakpoint_l.webp 1080w\" type=\"image/webp\"/><img srcSet=\"/images/hit-breakpoint_s.jpg 540w,/images/hit-breakpoint_m.jpg 810w,/images/hit-breakpoint_l.jpg 1080w\" src=\"/images/hit-breakpoint_s.jpg\" alt=\"Breakpoint hit\" title=\"Breakpoint hit\" loading=\"lazy\" decoding=\"async\" width=\"1080\" height=\"255\"/><figcaption>Breakpoint hit</figcaption></picture></p>\n<h2 id=\"done\">Done!</h2>\n<p>And there you have it, you can now start to debugging LND operating in a local cluster.</p>\n",
  { "mode": 100644 },
  "post/debugging-lnd-while-running-a-local-cluster",
  ["112"],
  "<p>If you want to debug LND, or if you want to take a real deep dive into LND, you probably want to be able to set breakpoints in the source code to see what is actually happening. Not only that, you also want to have the node run in a local cluster of other nodes, so that you can perform some real Lightning actions like opening a channel and make payments. This post takes you through the setup I use based on <a href=\"https://github.com/go-delve/delve\">Delve</a> and <a href=\"https://github.com/darwin/simverse\">Simverse</a>.</p>",
  "Building Bitcoin Core On Windows 10",
  "2017-11-03T00:00:00.000Z",
  ["664", "665"],
  "<p>I&#39;ve been following Bitcoin and more importantly the Blockchain from the sidelines for a few years now, but I wanted to get my hands dirty. Obviously I could just download the Bitcoin Core executables from bitcoin.org, but I always feel it gives me more insight if I build something myself. Also it&#39;s was a nice test case for Bash on Windows.</p>\n<!-- more -->\n<p>If you haven&#39;t done so already, you need to activate this feature for  Windows. It&#39;s only available on 64-bit Windows 10.\nYou can follow the instructions for this on <a href=\"https://github.com/bitcoin/bitcoin/blob/master/doc/build-windows.md\">https://github.com/bitcoin/bitcoin/blob/master/doc/build-windows.md</a>\nThere&#39;s a catch, however. At the time of writing the Windows 10 bash feature comes with Ubuntu Xenial 16.04, which is exactly the Ubuntu version on which the build of Bitcoin Core is broken. So first check what version you are on.</p>\n<pre><code>lsb_release -a</code></pre><p>Your version appears on the &quot;Description&quot; line. If it is 16.04, which is the current latest LTS-version (Long Term Support) of Ubuntu, you&#39;ll have to upgrade to the next version. For this to work you&#39;ll need to change the file with the release-upgrade settings using vi.</p>\n<pre><code>sudo vi /etc/update-manager/release-upgrades\n# Find the line that reads:\nPrompt=LTS\n# Change it to:\nPrompt=normal</code></pre><p>Run</p>\n<pre><code>sudo do-release-upgrade</code></pre><p>After I was done, <code>lsb_release -a</code> yielded the brand new Ubuntu Zesty 17.04 in the description. On with the instructions on <a href=\"https://github.com/bitcoin/bitcoin/blob/master/doc/build-windows.md\">https://github.com/bitcoin/bitcoin/blob/master/doc/build-windows.md</a>.\nTake note that you have to install the dependencies for g++-mingw-w64-x86-64  and mingw-w64-x86-64-dev first, before changing the update-alternatives. The instructions are a bit confusing on this point.</p>\n<pre><code>sudo apt-get install git\ncd /usr/local/src\nsudo git clone https://github.com/bitcoin/bitcoin.git\nPATH=$(echo &quot;$PATH&quot; | sed -e &#39;s/:\\/mnt.*//g&#39;)\ncd bitcoin/depends\nsudo make HOST=x86_64-w64-mingw32\ncd ..\nsudo ./autogen.sh\nsudo CONFIG_SITE=$PWD/depends/x86_64-w64-mingw32/share/config.site ./configure --prefix=/\nsudo make</code></pre><p>The first build took roughly 2 hours, so sit back and keep an eye on it from time to time.</p>\n<p>Apparently it is useful to copy the compiled executables to a directory on the windows drive in the same directory structure as they appear in the release .zip archive. This can be done in the following way (I already created a folder on the windows drive: c:\\workspace\\bitcoin although I&#39;m not sure if that&#39;s needed):</p>\n<pre><code>sudo make install DESTDIR=/mnt/c/workspace/bitcoin</code></pre><p>Again, sit back and wait for the process to finish.</p>\n<p>After the process has finished successfully, you will find the executables here: C:\\workspace\\bitcoin\\bin\nStarting bitcoin-qt.exe will start Bitcoin Core, the GUI node for Bitcoin.</p>\n",
  { "mode": 100644 },
  "post/building-bitcoin-core-on-windows-10",
  ["112"],
  "<p>I&#39;ve been following Bitcoin and more importantly the Blockchain from the sidelines for a few years now, but I wanted to get my hands dirty. Obviously I could just download the Bitcoin Core executables from bitcoin.org, but I always feel it gives me more insight if I build something myself. Also it&#39;s was a nice test case for Bash on Windows.</p>",
  "miksa/micropubpost.njk",
  "2022-02-17T09:18:12.827Z",
  "33492",
  ["666", "667"],
  ["668"],
  { "mode": 100644 },
  "like/2022/02/17-33492",
  "2022-03-24T07:10:08.826Z",
  "25808",
  ["669", "667"],
  ["670"],
  ["671"],
  ["672"],
  "<p>timeouts, but they are gone now. Maybe something network related. Thanks for the quick reply tho!</p>\n",
  { "mode": 100644 },
  "reply/2022/03/24-25808",
  "2022-03-24T07:02:02.180Z",
  "25322",
  ["673", "667"],
  ["671"],
  ["674"],
  "<p>@aaronpk I&#39;m integrating webmentions in my website, using webmentions.io and I might have crashed your server. Although I don&#39;t think I ddos-ed it with more than a 1000 requests. Anyway, if it was me, I am so sorry.</p>\n",
  { "mode": 100644 },
  "note/2022/03/24-25322",
  "2022-03-19T05:33:31.230Z",
  "20011",
  ["669", "667"],
  ["675"],
  ["671"],
  ["676"],
  "<p>But you <em>can</em> drag &amp; drop PDFs into your collection which achieves almost the same thing. Some quirks still require getting used to, but I&#39;m happy so far. @zotero couldn&#39;t have timed this release any better. Also importing from Mendeley was a breeze. Bye bye @mendeley_com.</p>\n",
  { "mode": 100644 },
  "reply/2022/03/19-20011",
  "2022-03-19T05:26:12.937Z",
  "19572",
  ["669", "667"],
  ["677"],
  ["671"],
  ["678"],
  "<p>6.0 just came out of beta! <a href=\"https://www.zotero.org/blog/zotero-6/\">https://www.zotero.org/blog/zotero-6/</a>\nI jumped into the deep end, and <em>switched</em>. @zotero 6.0 has a PDF reader, which was the main thing holding me back. Renaming, bibtex sync, deduplication all works out of the gate or with plugins. Only thing missing: watch folder</p>\n",
  { "mode": 100644 },
  "reply/2022/03/19-19572",
  "2022-03-18T01:44:47.466Z",
  "6287",
  ["669", "667"],
  ["679"],
  ["671"],
  ["680"],
  "<p>Maybe now is the time to switch to @zotero? The things missing from @mendeley_com Reference Manager can be handled with Zotero plugins afaik.</p>\n",
  { "mode": 100644 },
  "reply/2022/03/18-6287",
  "2022-03-15T07:40:09.959Z",
  "27609",
  ["669", "667"],
  ["681"],
  ["682"],
  ["671"],
  ["683"],
  { "mode": 100644 },
  "reply/2022/03/15-27609",
  "2022-03-15T02:26:26.257Z",
  "8786",
  ["673", "667"],
  ["671"],
  ["684"],
  "<p>The @mendeley_com Reference Manager is a step backwards from Mendeley Desktop. Wrapping your web app in @electronjs and market it as &quot;efficient, flexible and responsive&quot; just isn&#39;t cutting it. Stuff missing at first glance:</p>\n<ul>\n<li>watched folders</li>\n<li>rename files</li>\n<li>BibTeX syncing</li>\n</ul>\n",
  { "mode": 100644 },
  "note/2022/03/15-8786",
  "2022-03-14T00:58:44.056Z",
  "3524",
  ["669", "667"],
  ["685"],
  ["671"],
  ["686"],
  "<p>I have such a weak spot for communist architecture of that era.</p>\n",
  { "mode": 100644 },
  "reply/2022/03/14-3524",
  "2022-03-07T13:47:58.600Z",
  "49678",
  ["687", "667"],
  ["688"],
  ["689"],
  { "mode": 100644 },
  "repost/2022/03/07-49678",
  "2022-03-03T08:18:00.000Z",
  "amazing",
  ["687", "667"],
  ["690"],
  ["689"],
  { "mode": 100644 },
  "repost/2022/03/03-amazing",
  "2022-03-02T08:35:20.184Z",
  "30920",
  ["673", "667"],
  ["671", "691"],
  ["692", "693"],
  "<p>The latest vid from @bitluni&#39;s channel is a piece of art. You don&#39;t know it yet, but you <em>want</em> to know more about phased arrays. Go watch the vid. <a href=\"https://www.youtube.com/watch?v=z4uxC7ISd-c\">https://www.youtube.com/watch?v=z4uxC7ISd-c</a></p>\n",
  { "mode": 100644 },
  "note/2022/03/02-30920",
  "2022-03-02T01:29:26.468Z",
  "5366",
  ["673", "667"],
  "<p>Thank you for the kind words. It was a pleasure!</p>\n<p>&lt;cite class=&quot;h-cite u-quotation-of&quot;&gt;\n  &lt;a class=&quot;u-url&quot; href=&quot;<a href=\"https://twitter.com/edazcona/status/1498721507761172485\">https://twitter.com/edazcona/status/1498721507761172485</a>&quot;&gt;\n    Discover more about the security of the Lightning Network!\n@gijswijs research is extremely valuable for continuously improving the Lightning Network </p>\n<p>Youtube: <a href=\"https://youtu.be/rVxUGs6S3PI\">https://youtu.be/rVxUGs6S3PI</a>\nBitcoinTV: <a href=\"https://bitcointv.com/w/of4fPNECsigKk929ejWTBW\">https://bitcointv.com/w/of4fPNECsigKk929ejWTBW</a></p>\n<p>#Bitcoin #LightningNetwork @SatoshiRadioPod\n  &lt;/a&gt;\n&lt;/cite&gt;</p>\n",
  { "mode": 100644 },
  "note/2022/03/02-5366",
  "2022-02-28T07:31:44.333Z",
  "27104",
  ["694", "667"],
  ["695"],
  ["689", "696"],
  ["697", "698"],
  "<p>#javascript #nodejs @webpack</p>\n",
  { "mode": 100644 },
  "photo/2022/02/28-27104",
  "2022-02-25T01:36:17.141Z",
  "5777",
  ["673", "667"],
  ["689", "696"],
  ["699", "700"],
  "<p>Checking out the coding style requirements for contributing to the (amazing) SVG.js from @<em>wout</em>. This made me giggle:\n&gt; avoid semicolons, we&#39;re not writing PHP here.</p>\n",
  { "mode": 100644 },
  "note/2022/02/25-5777",
  "2022-02-23T07:05:50.320Z",
  "25550",
  ["669", "667"],
  ["701"],
  ["689"],
  ["702"],
  "<p>I like it! I can think of a few use cases. There will be a day in the near future where I am going to use it, for sure.</p>\n",
  { "mode": 100644 },
  "reply/2022/02/23-25550",
  "2022-02-23T01:48:07.813Z",
  "6487",
  ["669", "667"],
  ["703"],
  ["689"],
  ["704"],
  "<p>When are we allowed to call something a pattern? :D I&#39;m not sure if you could call it a delegate. It&#39;s a function, not a function signature that is passed along with onReceive. But delegation is a confusing term: <a href=\"https://www.saturnflyer.com/blog/the-gang-of-four-is-wrong-and-you-dont-understand-delegation\">https://www.saturnflyer.com/blog/the-gang-of-four-is-wrong-and-you-dont-understand-delegation</a></p>\n",
  { "mode": 100644 },
  "reply/2022/02/23-6487",
  "2022-02-22T14:18:08.783Z",
  "51488",
  ["669", "667"],
  ["705"],
  ["696"],
  ["706"],
  "<p>&gt; Not everyone involved in &quot;crypto&quot; has the same world view as the loudest most radical voices</p>\n<p>No, but every time I stick my head out of my academia bubble I do feel quite disenfranchised.</p>\n",
  { "mode": 100644 },
  "reply/2022/02/22-51488",
  "2022-02-22T13:36:52.642Z",
  "49012",
  ["694", "667"],
  ["707"],
  ["689", "696"],
  ["708", "709"],
  "<p>Working through the docs of @statelyai, my eye fell on this pattern. Anybody know the official name? It&#39;s a JS callback pattern but you get a callback <em>and</em> you get an onReceive that allows for registering a listener to an event at the parent. Voila: 2-way parent-child comms</p>\n<div class=\"u-comment h-cite\">\n  <a class=\"u-author h-card\" href=\"/\">Gijs van Dam</a>\n  <p class=\"p-content p-name\">I like it! I can think of a few use cases. There will be a day in the near future where I am going to use it, for sure.</p>\n  <a class=\"u-url\" href=\"https://www.gijsvandam.nl/reply/2022/02/23-25550/\">\n    <time class=\"dt-published\" datetime=\"2022-02-23T07:05:50Z\">2022-02-23 07:05:50 +00:00</time>\n  </a>\n</div>\n",
  { "mode": 100644 },
  "photo/2022/02/22-49012",
  "2022-02-18T16:02:24.936Z",
  "57744",
  ["694", "667"],
  ["710"],
  ["689", "696"],
  ["711", "712"],
  "<p>Just had an amazing talk with the guys from the #connect_the_world podcast <a href=\"https://www.youtube.com/channel/UCLMp5bH-rY9aEVwfLQ3oq4Q\">https://www.youtube.com/channel/UCLMp5bH-rY9aEVwfLQ3oq4Q</a> The episode where I talk about my latest #lightningnetwork research will be online soon.</p>\n",
  { "mode": 100644 },
  "photo/2022/02/18-57744",
  "2022-02-18T08:24:48.066Z",
  "30288",
  ["687", "667"],
  ["713"],
  ["689"],
  { "mode": 100644 },
  "repost/2022/02/18-30288",
  "2022-02-18T08:24:30.461Z",
  "30270",
  ["687", "667"],
  ["714"],
  ["689"],
  { "mode": 100644 },
  "repost/2022/02/18-30270",
  "2022-02-17T09:10:11.455Z",
  "33011",
  ["694", "667"],
  ["715"],
  ["689", "696"],
  ["716", "717"],
  "<p>I am working on some animations to explain basic Lightning Network concepts. Needless to say, I&#39;m not quite there yet..</p>\n",
  { "mode": 100644 },
  "photo/2022/02/17-33011",
  "2022-02-17T08:35:33.863Z",
  ["689", "696"],
  "30933",
  ["694", "667"],
  ["718"],
  "<p>I am working on some animations to explain basic Lightning Network concepts. Needless to say, I&#39;m not quite there yet...</p>\n",
  { "mode": 100644 },
  "photo/2022/02/17-30933",
  "2022-02-17T08:19:52.968Z",
  "29992",
  ["694", "667"],
  ["719"],
  { "mode": 100644 },
  "photo/2022/02/17-29992",
  "2022-02-17T05:10:28.698Z",
  "18628",
  ["694", "667"],
  ["720"],
  { "mode": 100644 },
  "photo/2022/02/17-18628",
  "2022-02-17T04:54:07.564Z",
  "17647",
  ["673", "667"],
  ["721"],
  ["722", "723"],
  "<p>I am working on some animations to explain basic Lightning Network concepts. Needless to say, I&#39;m not quite there yet...\n<a href=\"https://brid.gy/publish/twitter\"></a><a href=\"https://brid.gy/publish/mastodon\"></a></p>\n",
  { "mode": 100644 },
  "note/2022/02/17-17647",
  "2022-02-16T02:06:12.272Z",
  "7572",
  ["673", "667"],
  "<p>Testing accepting access token in HTTP Authorization header and POST body. This should not create a post</p>\n",
  { "mode": 100644 },
  "note/2022/02/16-7572",
  "2022-02-16T01:47:39.641Z",
  "6459",
  ["673", "667"],
  "<p>Micropub test of creating a basic h-entry</p>\n",
  { "mode": 100644 },
  "note/2022/02/16-6459",
  "2022-02-16T01:24:22.774Z",
  "5062",
  ["673", "667"],
  "<p>Testing accepting access token in post body</p>\n",
  { "mode": 100644 },
  "note/2022/02/16-5062",
  "2022-02-16T01:24:00.335Z",
  "5040",
  ["673", "667"],
  "<p>Testing accepting access token in HTTP Authorization header</p>\n",
  { "mode": 100644 },
  "note/2022/02/16-5040",
  "2022-02-16T01:23:04.756Z",
  ["724"],
  "4984",
  ["673", "667"],
  "<p>Micropub test of creating an h-entry with one category. This post should have one category, test1</p>\n",
  { "mode": 100644 },
  "note/2022/02/16-4984",
  "2022-02-16T01:10:22.856Z",
  ["725"],
  "4222",
  ["694", "667"],
  "<p>Micropub test of creating a photo referenced by URL</p>\n",
  { "mode": 100644 },
  "photo/2022/02/16-4222",
  "2022-02-16T01:05:50.140Z",
  ["725"],
  "3950",
  ["694", "667"],
  { "mode": 100644 },
  "photo/2022/02/16-3950",
  "2022-02-16T01:04:00.262Z",
  ["726", "727"],
  "3840",
  ["673", "667"],
  "<p>Micropub test of creating an h-entry with categories. This post should have two categories, test1 and test2</p>\n",
  { "mode": 100644 },
  "note/2022/02/16-3840",
  "2022-02-16T01:03:29.468Z",
  "3809",
  ["673", "667"],
  "<p>Micropub test of creating an h-entry with a JSON request</p>\n",
  { "mode": 100644 },
  "note/2022/02/16-3809",
  "2022-02-16T01:02:28.633Z",
  "3748",
  ["673", "667"],
  { "mode": 100644 },
  "note/2022/02/16-3748",
  "2022-02-15T13:17:03.672Z",
  "47823",
  ["728"],
  ["673", "667"],
  "<p>Test</p>\n",
  { "mode": 100644 },
  "note/2022/02/15-47823",
  "2022-02-15T12:27:15.316Z",
  "44835",
  ["729"],
  ["673", "667"],
  "<p>Note with picture</p>\n",
  { "mode": 100644 },
  "note/2022/02/15-44835",
  "2022-02-15T09:51:13.855Z",
  "35473",
  ["730"],
  ["673", "667"],
  "<p>Test: Note wit a picture</p>\n",
  { "mode": 100644 },
  "note/2022/02/15-35473",
  "2022-02-15T09:30:37.201Z",
  ["731", "732"],
  "34237",
  ["673", "667"],
  ["733"],
  "<p>TEST: Let&#39;s see if we can wait for this tweet to come online.</p>\n",
  { "mode": 100644 },
  "note/2022/02/15-34237",
  "2022-02-15T09:14:28.753Z",
  ["734", "735"],
  "33268",
  ["673", "667"],
  ["733"],
  { "mode": 100644 },
  "note/2022/02/15-33268",
  "2022-02-15T09:01:39.212Z",
  "32499",
  ["736"],
  ["673", "667"],
  { "mode": 100644 },
  "note/2022/02/15-32499",
  "2022-02-15T08:57:31.618Z",
  "32251",
  ["673", "667"],
  ["737"],
  "<p>Test: Does syndication now work?\n<a href=\"https://brid.gy/publish/twitter\"></a></p>\n",
  { "mode": 100644 },
  "note/2022/02/15-32251",
  "2022-02-15T08:26:43.740Z",
  ["738", "739"],
  "30403",
  ["673", "667"],
  ["733"],
  { "mode": 100644 },
  "note/2022/02/15-30403",
  "2022-02-15T08:17:27.426Z",
  ["740", "741"],
  "29847",
  ["673", "667"],
  ["733"],
  { "mode": 100644 },
  "note/2022/02/15-29847",
  "2022-02-15T07:32:51.583Z",
  ["742", "743"],
  "27171",
  ["673", "667"],
  ["733"],
  "<p>Let&#39;s see if syndication no works.</p>\n",
  { "mode": 100644 },
  "note/2022/02/15-27171",
  "webassembly",
  "janos",
  { "name": "744", "slug": "744" },
  { "name": "745", "slug": "746" },
  { "name": "747", "slug": "747" },
  "/scripts/ln-animations.js",
  "2022-03-29T02:25:47.684Z",
  [],
  { "name": "748", "slug": "749" },
  { "name": "750", "slug": "750" },
  { "name": "751", "slug": "751" },
  ["752", "753", "754", "755"],
  { "mode": 100644 },
  ["112"],
  {
    "title": "227",
    "date": "228",
    "layout": "26",
    "tags": "756",
    "contents": "230",
    "mode": "28",
    "stats": "757",
    "path": "232",
    "collection": "758",
    "previous": "131",
    "next": "759",
    "excerpt": "234",
    "webmentions": "760"
  },
  {
    "lastFetched": "761",
    "children": "762",
    "reply-count": 0,
    "like-count": 0,
    "repost-count": 0
  },
  "2022-03-29T02:25:49.489Z",
  [],
  {
    "type": "763",
    "author": "764",
    "url": "765",
    "published": null,
    "wm-received": "766",
    "wm-id": 1133236,
    "wm-source": "767",
    "wm-target": "768",
    "like-of": "768",
    "wm-property": "769",
    "wm-private": false
  },
  {
    "type": "763",
    "author": "770",
    "url": "771",
    "published": null,
    "wm-received": "772",
    "wm-id": 1133235,
    "wm-source": "773",
    "wm-target": "768",
    "like-of": "768",
    "wm-property": "769",
    "wm-private": false
  },
  {
    "type": "763",
    "author": "774",
    "url": "775",
    "published": "776",
    "wm-received": "777",
    "wm-id": 1133234,
    "wm-source": "778",
    "wm-target": "768",
    "content": "779",
    "in-reply-to": "768",
    "wm-property": "780",
    "wm-private": false
  },
  {
    "type": "763",
    "author": "781",
    "url": "782",
    "published": null,
    "wm-received": "783",
    "wm-id": 1133233,
    "wm-source": "784",
    "wm-target": "768",
    "like-of": "768",
    "wm-property": "769",
    "wm-private": false
  },
  {
    "type": "763",
    "author": "785",
    "url": "786",
    "published": "787",
    "wm-received": "788",
    "wm-id": 1133231,
    "wm-source": "789",
    "wm-target": "768",
    "content": "790",
    "in-reply-to": "768",
    "wm-property": "780",
    "wm-private": false
  },
  "navigation",
  { "name": "744", "slug": "744" },
  { "name": "745", "slug": "746" },
  { "name": "747", "slug": "747" },
  { "name": "618", "slug": "618" },
  { "name": "619", "slug": "619" },
  { "name": "748", "slug": "749" },
  { "name": "750", "slug": "750" },
  { "name": "751", "slug": "751" },
  { "name": "791", "slug": "791" },
  { "name": "792", "slug": "792" },
  { "name": "748", "slug": "749" },
  { "name": "793", "slug": "794" },
  { "name": "791", "slug": "791" },
  { "name": "795", "slug": "795" },
  { "name": "748", "slug": "749" },
  { "name": "796", "slug": "796" },
  { "name": "797", "slug": "797" },
  { "name": "798", "slug": "798" },
  { "name": "799", "slug": "799" },
  { "name": "800", "slug": "800" },
  { "name": "796", "slug": "796" },
  { "name": "799", "slug": "799" },
  { "name": "747", "slug": "747" },
  { "name": "801", "slug": "802" },
  "like",
  "stream",
  "https://bitcoinhackers.org/@emzy/107405217475100632",
  "reply",
  "https://twitter.com/aaronpk/status/1506889706839035908",
  "https://brid.gy/publish/twitter?bridgy_omit_link=true",
  { "destination": "149", "url": "803" },
  "note",
  { "destination": "149", "url": "804" },
  "https://twitter.com/gijswijs/status/1505053325401763847",
  { "destination": "149", "url": "805" },
  "https://twitter.com/loravilag/status/1504739266357780484",
  { "destination": "149", "url": "675" },
  "https://twitter.com/loravilag/status/1504150169742462976",
  { "destination": "149", "url": "806" },
  "https://twitter.com/PatientObserve1/status/1503530092919545856",
  { "value": "807", "alt": "808" },
  { "destination": "149", "url": "809" },
  { "destination": "149", "url": "810" },
  "https://twitter.com/doctorow/status/1503145991100268548",
  { "destination": "149", "url": "811" },
  "repost",
  "https://twitter.com/NowNowNow/status/1500788361602252800",
  "https://brid.gy/publish/twitter",
  "https://twitter.com/StefCTW/status/1499092605749051393",
  "https://brid.gy/publish/mastodon?bridgy_omit_link=true",
  { "destination": "149", "url": "812" },
  { "destination": "146", "url": "813" },
  "photo",
  { "value": "814", "alt": "815" },
  "https://brid.gy/publish/mastodon",
  { "destination": "149", "url": "816" },
  { "destination": "146", "url": "817" },
  { "destination": "149", "url": "818" },
  { "destination": "146", "url": "819" },
  "https://twitter.com/statelyai/status/1496315939142447104",
  { "destination": "149", "url": "820" },
  "https://twitter.com/kappyzor/status/1496141348415721472",
  { "destination": "149", "url": "821" },
  "https://bitcoinhackers.org/web/@sjors@m.sprovoost.nl/107835152884502784",
  { "destination": "146", "url": "822" },
  { "value": "823", "alt": "824" },
  { "destination": "149", "url": "825" },
  { "destination": "146", "url": "826" },
  { "value": "827", "alt": "828" },
  { "destination": "149", "url": "829" },
  { "destination": "146", "url": "830" },
  "https://twitter.com/imanpyudha/status/1494582833247305729",
  "https://twitter.com/imanpyudha/status/1494582798749155328",
  { "value": "831", "alt": "832" },
  { "destination": "149", "url": "833" },
  { "destination": "146", "url": "834" },
  { "value": "831", "alt": "832" },
  { "value": "831", "alt": "835" },
  { "value": "831", "alt": "835" },
  "https://www.gijsvandam.nl/stream/2022/02/17-17647/htlc-animation.gif",
  { "destination": "149", "url": "836" },
  { "destination": "146", "url": "837" },
  { "name": "838", "slug": "838" },
  "https://micropub.rocks/media/sunset.jpg",
  { "name": "838", "slug": "838" },
  { "name": "839", "slug": "839" },
  "https://www.gijsvandam.nl/stream/2022/02/15-47823/prikkie.jpg",
  "https://www.gijsvandam.nl/stream/2022/02/15-44835/mary-and-max-5186538712.jpg",
  "https://www.gijsvandam.nl/_src/stream/media/2022/02/15-35473/mary-and-max-5186538712.jpg",
  { "name": "619", "slug": "619" },
  { "name": "840", "slug": "840" },
  "geo:2.97211,101.80853;u=30",
  { "name": "619", "slug": "619" },
  { "name": "840", "slug": "840" },
  "https://www.gijsvandam.nl/_src/stream/media/2022/02/15-32499/mary-and-max-5186538712.jpg",
  { "destination": "149", "url": "841" },
  { "name": "619", "slug": "619" },
  { "name": "840", "slug": "840" },
  { "name": "619", "slug": "619" },
  { "name": "840", "slug": "840" },
  { "name": "619", "slug": "619" },
  { "name": "840", "slug": "840" },
  "cryptography",
  "lightning network",
  "lightning-network",
  "bitcoin",
  "boilerplate paper",
  "boilerplate-paper",
  "powershell",
  "git",
  { "name": "791", "slug": "791" },
  { "name": "792", "slug": "792" },
  { "name": "748", "slug": "749" },
  { "name": "793", "slug": "794" },
  ["842", "843", "844"],
  { "mode": 100644 },
  ["112"],
  {
    "title": "235",
    "date": "236",
    "layout": "26",
    "tags": "845",
    "contents": "238",
    "mode": "28",
    "stats": "846",
    "path": "240",
    "collection": "847",
    "previous": "632",
    "next": "848",
    "excerpt": "242",
    "webmentions": "849"
  },
  {
    "lastFetched": "850",
    "children": "851",
    "reply-count": 0,
    "like-count": 0,
    "repost-count": 0
  },
  "2022-03-29T02:25:50.389Z",
  [],
  "entry",
  { "type": "852", "name": "853", "photo": "854", "url": "855" },
  "https://twitter.com/gijswijs/status/1386498290791890946#favorited-by-1022613840381595648",
  "2021-04-26T13:36:42Z",
  "https://brid.gy/like/twitter/gijswijs/1386498290791890946/1022613840381595648",
  "https://www.gijsvandam.nl/post/image-conversion-resizing-and-compression-with-webassembly/",
  "like-of",
  { "type": "852", "name": "856", "photo": "857", "url": "858" },
  "https://twitter.com/gijswijs/status/1386498290791890946#favorited-by-13802782",
  "2021-04-26T13:36:35Z",
  "https://brid.gy/like/twitter/gijswijs/1386498290791890946/13802782",
  { "type": "852", "name": "856", "photo": "857", "url": "858" },
  "https://twitter.com/anthonygore/status/1386503865588011009",
  "2021-04-26T02:14:16+00:00",
  "2021-04-26T13:36:25Z",
  "https://brid.gy/comment/twitter/gijswijs/1386498290791890946/1386503865588011009",
  { "html": "859", "text": "860" },
  "in-reply-to",
  { "type": "852", "name": "856", "photo": "857", "url": "858" },
  "https://twitter.com/gijswijs/status/1386502887577210880#favorited-by-13802782",
  "2021-04-26T13:36:06Z",
  "https://brid.gy/like/twitter/gijswijs/1386502887577210880/13802782",
  { "type": "852", "name": "2", "photo": "861", "url": "862" },
  "https://twitter.com/gijswijs/status/1386502887577210880",
  "2021-04-26T02:10:23+00:00",
  "2021-04-26T13:35:56Z",
  "https://brid.gy/comment/twitter/gijswijs/1386498290791890946/1386502887577210880",
  { "html": "863", "text": "864" },
  "pandoc",
  "lua",
  "LaTeX",
  "latex",
  "revealjs",
  "simverse",
  "c-lightning",
  "ssh",
  "vscode",
  "lnd",
  "windows 10",
  "windows-10",
  "https://twitter.com/gijswijs/status/1506891413958672388",
  "https://twitter.com/gijswijs/status/1506889372578332674",
  "https://twitter.com/gijswijs/status/1505055135357190147",
  "https://twitter.com/gijswijs/status/1504635208448024577",
  "https://www.gijsvandam.nl/stream/2022/3/15/GUMMBAH_P_Do-you-want-to-whine.gif",
  "Do you want to whine about it or solve it? Whine about it.",
  "https://twitter.com/gijswijs/status/1503637463151132674",
  "https://twitter.com/gijswijs/status/1503558547140972547",
  "https://twitter.com/gijswijs/status/1503174067750424577",
  "https://twitter.com/gijswijs/status/1498940635906248706",
  "https://bitcoinhackers.org/@gijswijs/107886036505188420",
  "https://www.gijsvandam.nl/stream/2022/2/28/webpack-meme.jpg",
  "Setting up webpack debugging in vscode requires human sacrifice",
  "https://twitter.com/gijswijs/status/1498199543212609537",
  "https://bitcoinhackers.org/@gijswijs/107874457044321214",
  "https://twitter.com/gijswijs/status/1497022907641434115",
  "https://bitcoinhackers.org/@gijswijs/107856071750617022",
  "https://twitter.com/gijswijs/status/1496382713263235076",
  "https://twitter.com/gijswijs/status/1496301128371343362",
  "https://bitcoinhackers.org/@gijswijs/107842081031944157",
  "https://www.gijsvandam.nl/stream/2022/2/22/callback-listener.jpg",
  "Callback listener pattern",
  "https://twitter.com/gijswijs/status/1496117169511403527",
  "https://bitcoinhackers.org/@gijswijs/107841919855606645",
  "https://www.gijsvandam.nl/stream/2022/2/18/podcast.png",
  "All smiles at the Connect the World podcast",
  "https://twitter.com/gijswijs/status/1494704200906850304",
  "https://bitcoinhackers.org/@gijswijs/107819842354501822",
  "https://www.gijsvandam.nl/stream/2022/2/17/htlc-animation.gif",
  "These beans are out of line!",
  "https://twitter.com/gijswijs/status/1494238092978438147",
  "https://bitcoinhackers.org/@gijswijs/107812559269502781",
  "Those beans are out of line",
  "https://twitter.com/gijswijs/status/1494173611971784705",
  "https://bitcoinhackers.org/@gijswijs/107811551735313616",
  "test1",
  "test2",
  "indieweb",
  "https://twitter.com/gijswijs/status/1493510063658569734",
  { "name": "791", "slug": "791" },
  { "name": "795", "slug": "795" },
  { "name": "748", "slug": "749" },
  ["865", "866"],
  { "mode": 100644 },
  ["112"],
  {
    "title": "243",
    "date": "244",
    "layout": "26",
    "tags": "867",
    "contents": "246",
    "mode": "28",
    "stats": "868",
    "path": "248",
    "collection": "869",
    "previous": "759",
    "next": "870",
    "excerpt": "250",
    "webmentions": "871"
  },
  {
    "lastFetched": "872",
    "children": "873",
    "reply-count": 0,
    "like-count": 0,
    "repost-count": 0
  },
  "2022-03-29T02:25:51.294Z",
  [],
  "card",
  "RustCast",
  "https://webmention.io/avatar/pbs.twimg.com/45c507a0709564ff69bc8ae2e5843233a1768a25a5ea22369701b43f043a420b.jpg",
  "https://twitter.com/RustCast",
  "Anthony Gore",
  "https://webmention.io/avatar/pbs.twimg.com/a876b8670b7721b1bccd9f6cf5a7a2651097fcd4923ac889897ef05fe65f151a.jpg",
  "https://twitter.com/anthonygore",
  "I haven't learned Rust myself so I'd also be keen to know\n<a class=\"u-mention\" href=\"https://twitter.com/gijswijs\"></a>\n<a class=\"u-mention\" href=\"https://www.gijsvandam.nl/\"></a>",
  "I haven't learned Rust myself so I'd also be keen to know",
  "https://webmention.io/avatar/pbs.twimg.com/e6dd6e8cb27bc1e8bedd6c85f5c42a220dd1201fa36f5d674772dc0c9ff05d55.jpg",
  "https://twitter.com/gijswijs",
  "By the way that static site generator you see in action in that post (<a href=\"https://www.gijsvandam.nl/post/image-conversion-resizing-and-compression-with-webassembly/\">gijsvandam.nl/post/image-con…</a>) was entirely built with Vue. I thought you might like that.\n<a class=\"u-mention\" href=\"https://twitter.com/anthonygore\"></a>",
  "By the way that static site generator you see in action in that post (gijsvandam.nl/post/image-con…) was entirely built with Vue. I thought you might like that.",
  { "name": "796", "slug": "796" },
  { "name": "797", "slug": "797" },
  ["874", "875"],
  { "mode": 100644 },
  ["112"],
  {
    "title": "251",
    "date": "252",
    "layout": "26",
    "tags": "876",
    "contents": "254",
    "mode": "28",
    "stats": "877",
    "path": "256",
    "collection": "878",
    "previous": "848",
    "next": "879",
    "excerpt": "258",
    "webmentions": "880"
  },
  {
    "lastFetched": "881",
    "children": "882",
    "reply-count": 0,
    "like-count": 0,
    "repost-count": 0
  },
  "2022-03-29T02:25:52.294Z",
  [],
  { "name": "798", "slug": "798" },
  { "name": "799", "slug": "799" },
  ["883", "884", "885"],
  { "mode": 100644 },
  ["112"],
  {
    "title": "259",
    "date": "260",
    "layout": "26",
    "tags": "886",
    "contents": "262",
    "mode": "28",
    "stats": "887",
    "path": "264",
    "collection": "888",
    "previous": "870",
    "excerpt": "266",
    "webmentions": "889"
  },
  {
    "lastFetched": "890",
    "children": "891",
    "reply-count": 0,
    "like-count": 0,
    "repost-count": 0
  },
  "2022-03-29T02:25:53.185Z",
  [],
  { "name": "800", "slug": "800" },
  { "name": "796", "slug": "796" },
  { "name": "799", "slug": "799" },
  ["892", "893"],
  { "mode": 100644 },
  ["112"],
  {
    "lastFetched": "894",
    "children": "895",
    "reply-count": 0,
    "like-count": 0,
    "repost-count": 0
  },
  "2022-03-29T02:25:46.695Z",
  [],
  { "name": "747", "slug": "747" },
  { "name": "801", "slug": "802" },
  "2022-03-29T02:25:45.799Z",
  []
]
